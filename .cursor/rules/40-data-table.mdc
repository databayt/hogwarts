---
alwaysApply: true
---
- Use the generic Data Table block with TanStack Table + shadcn/ui.
- Columns define `id`, `accessorKey`, header via `DataTableColumnHeader`, and `meta` for filter variants/options.
- State syncs to URL (via `nuqs`); server is the source of truth for pagination/sort/filter.
- Build server queries by mapping filters → Prisma `where` and state → `orderBy`.
- Enforce tenant scoping with `schoolId` in every `where`.
- Provide accessible toolbars and pinning styles from shared helpers.

Referenced context

@src/app/docs/table/page.mdx
@src/components/table/data-table/data-table.tsx
@src/components/table/hooks/use-data-table.ts
@src/components/table/lib/data-table.ts

