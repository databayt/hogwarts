---
title: PRD
description: Product Requirements Document for Hogwarts — the aspirational vision for a world-class school management platform.
---

## Executive Summary

Hogwarts is an all-in-one, cloud-based school management platform — an operating system for educational institutions. It serves schools, teachers, students, and parents globally with multi-tenant architecture, role-based access, and Arabic-first internationalization.

See [Progress](/docs/progress) for current implementation status.

---

## Project Classification

- **Type:** SaaS B2B Multi-Tenant Web Application
- **Domain:** Education Technology (EdTech) — K-12 School Management
- **Complexity:** Level 4 (Enterprise-scale, 200+ functional requirements, highly regulated domain)
- **Target Users:** School administrators, teachers, students, parents, accountants, staff

### Market Size (Middle East & Africa)

| Region             | Size (2024) | Projected      | CAGR   |
| ------------------ | ----------- | -------------- | ------ |
| MEA EdTech         | $14.4B      | $33.0B by 2030 | ~14.6% |
| Middle East EdTech | $11.3B      | $27.0B by 2033 | ~9.1%  |
| GCC EdTech         | $3.02B      | $4.47B by 2030 | ~6.74% |

K-12 holds **44%** of the 2025 cohort — the largest revenue-generating sector.

| Country      | Size     | CAGR   | Notes                       |
| ------------ | -------- | ------ | --------------------------- |
| Sudan        | Emerging | —      | Arabic-first target market  |
| Saudi Arabia | $2.32B   | 12.77% | Largest MENA market         |
| Egypt        | $302M    | 14.0%  | 234 active EdTech companies |
| South Africa | $929M    | 11.78% | 40% of Africa EdTech 50     |

### Domain Constraints

- **Regulatory:** FERPA, COPPA, GDPR, regional mandates
- **Accessibility:** WCAG 2.1 AA, multilingual RTL, offline capable
- **Educational:** National curricula, standardized assessments, academic calendars
- **Security:** Child safety protocols, encryption, multi-tenant isolation, audit trails
- **Financial:** Multi-currency, fee structures, scholarships, payment gateways

---

## TL;DR

SaaS B2B multi-tenant school management system. Next.js 16 + React 19 + TypeScript + Prisma + PostgreSQL. A school can enroll students, manage classes, track attendance, grade assignments, collect fees, and communicate with parents — all within a single platform.

---

## Success Criteria

### Primary Metrics

| Metric                     | Baseline            | Target                        |
| -------------------------- | ------------------- | ----------------------------- |
| Administrator Time Savings | 40 hours/month lost | 8 hours/month (80% reduction) |
| Parental Engagement        | 65% dissatisfaction | 85% satisfaction (NPS)        |
| Data Accuracy              | 23% error rate      | \<1% error rate               |
| School Operational Cost    | $15K-$50K/year      | 60% reduction                 |
| Teacher Admin Time         | 11 hours/week       | 4 hours/week                  |

### Business Metrics

| Year | Schools | ARR   | NPS      | Churn     |
| ---- | ------- | ----- | -------- | --------- |
| 1    | 100     | $240K | 98% CSAT | \<3%/mo   |
| 3    | 2,500   | $6M   | 85+      | \<1.5%/mo |
| 5    | 15,000  | $36M  | —        | IPO-ready |

### Impact Milestones

- Zero student data breaches
- 1M+ students with better educational experiences
- 100+ community-contributed features
- Government partnerships in 10+ countries
- #1 open-source school management system

---

## MVP Scope

A school can enroll students, manage classes, track attendance, grade assignments, collect fees, and communicate with parents.

See [MVP](/docs/mvp) for detailed epic breakdown with story-level tracking.

<div className="not-prose mt-6 grid grid-cols-1 gap-4 md:grid-cols-3">
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Infrastructure</h3>
    <p className="text-muted-foreground text-sm">
      Multi-tenant architecture, subdomain routing, and core technical setup.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Authentication</h3>
    <p className="text-muted-foreground text-sm">
      User management, role-based access control, and secure auth flows.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Configuration</h3>
    <p className="text-muted-foreground text-sm">
      School profile, academic structure, branding, and settings.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Student</h3>
    <p className="text-muted-foreground text-sm">
      Student lifecycle from enrollment to graduation with profiles.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Listings</h3>
    <p className="text-muted-foreground text-sm">
      Subjects, classes, teachers, parents, and staff records.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Attendance</h3>
    <p className="text-muted-foreground text-sm">
      Daily attendance tracking, reports, and absence management.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Exam</h3>
    <p className="text-muted-foreground text-sm">
      Exam scheduling, grading, results, and report cards.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Timetable</h3>
    <p className="text-muted-foreground text-sm">
      Class scheduling, period management, and conflict detection.
    </p>
  </div>
  <div className="rounded-lg border p-6">
    <h3 className="mb-2 text-base font-medium">Admission</h3>
    <p className="text-muted-foreground text-sm">
      Application processing, enrollment workflow, and registration management.
    </p>
  </div>
</div>

---

## Growth Phase

Post-MVP features expanding capabilities and market reach:

- AI-powered predictive analytics
- Digital classroom & LMS integration
- Comprehensive finance module (double-entry bookkeeping, payroll)
- Library management system
- Native mobile applications (React Native)
- Internationalization expansion (French, Spanish, Hindi, Mandarin)
- Regional compliance certifications

---

## Vision

Long-term features positioning Hogwarts as the definitive education platform:

- AI Teaching Assistant
- Personalized learning paths
- Marketplace & plugin ecosystem
- Blockchain credentials
- VR/AR learning experiences
- District-level management
- Global teacher collaboration network

---

## Tech Stack

Multi-tenant subdomain-based architecture. Each school gets isolated data via `schoolId` scoping. Stateless serverless functions on Vercel with 8-role RBAC.

<div className="not-prose mt-4 mb-6 flex flex-wrap gap-2">
  <span className="bg-muted rounded px-2 py-1 text-xs">Next.js 16</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">React 19</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">TypeScript</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">Prisma</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">PostgreSQL</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">NextAuth v5</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">Tailwind CSS 4</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">shadcn/ui</span>
  <span className="bg-muted rounded px-2 py-1 text-xs">Vercel</span>
</div>

**Environment Routing:**

```text
Production:   school.databayt.org → /[lang]/s/school/...
Preview:      tenant---branch.vercel.app → /[lang]/s/tenant/...
Development:  subdomain.localhost:3000 → /[lang]/s/subdomain/...
Custom:       www.theirschool.com (CNAME) → Hogwarts platform
```

---

## Role-Based Access Control

| Role       | Key Permissions                                              |
| ---------- | ------------------------------------------------------------ |
| DEVELOPER  | Access all schools, platform configuration, monitoring       |
| ADMIN      | Full access within school, manage users, financial oversight |
| TEACHER    | Manage assigned classes, grade assignments, mark attendance  |
| STUDENT    | View own grades, attendance, assignments, submit work        |
| GUARDIAN   | View linked students' data, pay fees, receive notifications  |
| ACCOUNTANT | Manage finances, generate reports (no academic data)         |
| STAFF      | Limited operational module access                            |
| USER       | Minimal access, pending role assignment                      |

---

## Subscription Tiers

| Tier       | Price               | Limits                                                 |
| ---------- | ------------------- | ------------------------------------------------------ |
| FREE       | $0                  | 100 students, 1GB storage, community support           |
| PRO        | $1.50/student/month | 10GB, priority support, custom branding, API 1K req/hr |
| ENTERPRISE | $1.00/student/month | Unlimited storage/API, white-label, SLA 99.9%, SSO     |

**Billing:** Stripe Subscriptions, monthly/annual (15% discount), 14-day free trial, metered per-student pricing.

---

## API & Integrations

**RESTful API v1:**

- OpenAPI 3.0 spec with Swagger UI
- API key auth + rate limiting (100-unlimited req/hr by tier)
- Webhooks: `student.enrolled`, `payment.received`, `grade.updated`
- HMAC-SHA256 signing, retry logic with exponential backoff

**SSO (Enterprise):**

- SAML 2.0 (Okta, Azure AD, OneLogin)
- OAuth 2.0 (Google Workspace, Microsoft 365)
- SCIM (user provisioning)

**Third-Party:**

- Google Workspace, Microsoft 365, Zoom
- Stripe (payments), Twilio (SMS), Resend (email)
- QuickBooks/Xero (accounting)
- Canvas, Blackboard, Moodle (LTI)

---

## Non-Functional Requirements

### Performance

| Metric                 | Target           |
| ---------------------- | ---------------- |
| Initial page load (3G) | \<2s             |
| Subsequent navigation  | \<500ms          |
| API response (P95)     | \<500ms          |
| Database queries (P95) | \<100ms          |
| TTFB                   | \<200ms via edge |

### Security

- **Encryption:** AES-256 at rest, TLS 1.3 in transit
- **Auth:** Bcrypt (cost 12), JWT (24h), 2FA, rate limiting
- **Authorization:** RBAC on every route, multi-tenant isolation
- **Validation:** Zod server-side, SQL injection + XSS prevention
- **Audit:** All modifications logged, 7-year retention

### Scalability

- **Database:** Prisma connection pooling, Neon Serverless PostgreSQL
- **Application:** Vercel serverless, stateless, edge caching
- **Storage:** S3-compatible (Cloudflare R2), CDN delivery

### Accessibility

- WCAG 2.1 AA compliance
- Keyboard navigation, screen reader support
- Color contrast minimum 4.5:1
- Automated checks in CI/CD (axe-core)

### Compliance

- FERPA (US student privacy)
- GDPR (EU data protection)
- COPPA (parental consent \<13 years)
- WCAG 2.1 AA (accessibility)

---

## Design System

| Aspect       | Spec                                                   |
| ------------ | ------------------------------------------------------ |
| Arabic font  | Rubik                                                  |
| English font | Inter                                                  |
| Typography   | Semantic HTML only — no hardcoded `text-*` or `font-*` |
| Colors       | OKLCH — Blue primary, Amber secondary                  |
| Components   | shadcn/ui (Radix primitives)                           |
| Theme        | Dark/light via next-themes                             |

---

## Internationalization

| Feature     | Implementation                                     |
| ----------- | -------------------------------------------------- |
| Locales     | `en`, `ar`                                         |
| RTL         | Bidirectional layouts, mirrors for Arabic          |
| Storage     | Single-language + `lang` field                     |
| Translation | On-demand via Google Translate API with DB caching |
| URLs        | `/[lang]/path` → `/en/docs`, `/ar/docs`            |

---

## Development Approach

- 1-week sprints with weekly standups
- Code review (minimum 1 approver)
- 80%+ coverage for critical paths
- Performance budgets (Lighthouse ≥90)
- 20% sprint capacity reserved for tech debt

### Testing Pyramid

| Layer       | Share | Tool       |
| ----------- | ----- | ---------- |
| Unit        | 70%   | Vitest     |
| Integration | 20%   | Supertest  |
| E2E         | 10%   | Playwright |

---

## Risk Management

| Risk                 | Severity | Mitigation                        |
| -------------------- | -------- | --------------------------------- |
| Data breach          | Critical | Penetration testing, bug bounty   |
| Multi-tenant leak    | Critical | Isolation tests, schoolId scoping |
| Non-compliance       | Critical | Legal review, audits              |
| Performance issues   | High     | Load testing, caching             |
| Low adoption         | High     | User research, pilots             |
| Integration failures | Medium   | Retry logic, monitoring           |
| Competition          | Medium   | Rapid iteration                   |
| Funding constraints  | Medium   | Lean MVP, early revenue           |

---

## References

- [Progress](/docs/progress) — Current implementation status
- [MVP](/docs/mvp) — Epic breakdown with story tracking
- [Architecture](/docs/architecture) — System design and specs
- [Pattern](/docs/pattern) — Best practices and standards
