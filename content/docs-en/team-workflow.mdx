---
title: "Team Workflow"
description: "Fork, branch, commit, and deployâ€”following shadcn/ui and Next.js standards."
---

Professional collaboration practices for Next.js projects.

## Quick Start

1. Fork the repository (GitHub UI)
2. Clone your fork: `git clone https://github.com/YOUR-USERNAME/hogwarts.git`
3. Add upstream: `git remote add upstream https://github.com/databayt/hogwarts.git`
4. Create branch: `git checkout -b feature/my-feature`
5. Make changes and commit
6. Push and create PR: `gh pr create`

## Workflow Types

| Workflow | Best For | Example |
|----------|----------|---------|
| Fork-based | External contributors | Open source PRs |
| Branch-based | Internal team | Direct repo access |

**Sync your fork:**

```bash
git fetch upstream
git checkout main && git merge upstream/main
git push origin main
```

## Branching

### Naming Convention

```
<type>/<short-description>
```

| Type | Purpose | Example |
|------|---------|---------|
| `feature/` | New functionality | `feature/student-export` |
| `fix/` | Bug fixes | `fix/login-redirect` |
| `docs/` | Documentation | `docs/api-reference` |
| `refactor/` | Code improvements | `refactor/auth-flow` |
| `chore/` | Maintenance | `chore/update-deps` |

### Rules

1. Never commit directly to main
2. Keep branches short-lived (merge within days)
3. Delete branches after merge
4. Rebase before PR: `git rebase origin/main`

## Commits

Follow [Conventional Commits](https://www.conventionalcommits.org/).

### Format

```
<type>(<scope>): <description>
```

### Types

| Type | Description |
|------|-------------|
| `feat` | New feature |
| `fix` | Bug fix |
| `docs` | Documentation |
| `refactor` | Code restructuring |
| `test` | Adding tests |
| `chore` | Maintenance |

### Examples

```bash
# Good
git commit -m "feat(students): add bulk import"
git commit -m "fix(auth): resolve OAuth redirect loop"

# Bad
git commit -m "fixed stuff"
git commit -m "updates"
```

## Pull Requests

### Before Creating

```bash
git fetch origin main
git rebase origin/main
pnpm tsc --noEmit && pnpm lint && pnpm test && pnpm build
```

### Size Guidelines

| Size | Lines | Action |
|------|-------|--------|
| XS/S | 1-200 | Ideal |
| M | 201-500 | Acceptable |
| L+ | 500+ | Split the PR |

Small PRs = faster reviews, fewer bugs, easier reverts.

### Title Format

```
<type>(<scope>): <description>
```

Example: `feat(students): add bulk import with CSV validation`

### Description Template

```markdown
## Summary
Brief description (1-3 sentences).

## Changes
- Change 1
- Change 2

## Testing
- [ ] Unit tests added
- [ ] Manually tested

Closes #123
```

## Code Review

### For Authors

1. Self-review first
2. Keep PRs focused
3. Respond within 24 hours
4. Don't take feedback personally

### For Reviewers

1. Review within 24 hours
2. Be constructive
3. Explain the "why"
4. Use GitHub suggestions for small fixes

### Comment Prefixes

| Prefix | Meaning | Action Required |
|--------|---------|-----------------|
| `blocking:` | Must fix | Yes |
| `suggestion:` | Optional improvement | No |
| `question:` | Need clarification | Response needed |
| `nit:` | Minor preference | No |

### Checklist

- [ ] Code does what PR claims
- [ ] Edge cases handled
- [ ] No hardcoded secrets
- [ ] `schoolId` included in queries
- [ ] Tests cover happy path and errors

## Deployment

### Preview Deployments

Every PR gets a Vercel preview:

```
https://hogwarts-<branch>-<team>.vercel.app
```

### Commands

| Command | Use Case |
|---------|----------|
| `push` | Full validation + deploy |
| `/quick` | Skip build (small changes) |
| `/ship production` | Production release |

### Before Merge

- [ ] CI checks passing
- [ ] Review approved
- [ ] Preview tested
- [ ] TypeScript errors: 0

## Quick Reference

| Action | Command |
|--------|---------|
| Sync fork | `git fetch upstream && git merge upstream/main` |
| New branch | `git checkout -b feature/name` |
| Commit | `git commit -m "type(scope): message"` |
| Create PR | `gh pr create` |
| Merge PR | `gh pr merge` |

## Resources

- [Conventional Commits](https://www.conventionalcommits.org/)
- [GitHub Flow](https://docs.github.com/en/get-started/quickstart/github-flow)
- [shadcn/ui Contributing](https://github.com/shadcn-ui/ui/blob/main/CONTRIBUTING.md)
