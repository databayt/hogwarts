---
title: "Technology Stack"
description: "Core technologies powering the Hogwarts multi-tenant school management platform."
---

## Core Stack

| Technology       | Version         | Purpose                                                |
| ---------------- | --------------- | ------------------------------------------------------ |
| **Next.js**      | 16.1.0          | App Router, Turbopack, Server Components, streaming    |
| **React**        | 19.2.0          | UI library with concurrent features, Server Components |
| **TypeScript**   | 5.8.3           | Strict mode, type safety across the stack              |
| **Prisma**       | 6.19.0          | ORM with 264 models, 132 enums, 57 schema files        |
| **PostgreSQL**   | Neon Serverless | Multi-tenant database with connection pooling          |
| **NextAuth**     | v5 beta.30      | OAuth (Google, Facebook), credentials, JWT sessions    |
| **Tailwind CSS** | 4               | Utility-first CSS with OKLCH color format              |
| **shadcn/ui**    | Latest          | Radix UI primitives, accessible components             |

## Runtime & Deployment

| Technology        | Purpose                                               |
| ----------------- | ----------------------------------------------------- |
| **Vercel**        | Serverless deployment, edge caching, preview branches |
| **Neon**          | Serverless PostgreSQL with branching workflows        |
| **AWS S3**        | Image and file storage (catalog thumbnails, uploads)  |
| **CloudFront**    | CDN delivery for S3 assets (WebP variants)            |
| **Upstash Redis** | Custom domain resolution caching                      |

## Validation & Forms

| Technology          | Version | Purpose                                       |
| ------------------- | ------- | --------------------------------------------- |
| **Zod**             | 4.0.14  | Schema validation on server and client        |
| **React Hook Form** | 7.61.1  | Performant forms with minimal re-renders      |
| **TanStack Table**  | 8.21.3  | DataTable with sorting, filtering, pagination |

## Authentication & Security

| Technology                | Purpose                                  |
| ------------------------- | ---------------------------------------- |
| **Auth.js (NextAuth v5)** | Multi-provider OAuth, JWT sessions, RBAC |
| **bcrypt**                | Password hashing (cost 12)               |
| **PKCE**                  | OAuth security with S256 code challenge  |
| **Rate limiting**         | 14 configs across routes (in-memory)     |

## Key Libraries

| Library         | Purpose                                         |
| --------------- | ----------------------------------------------- |
| **nuqs**        | URL-persisted state (view toggles, filters)     |
| **Resend**      | Transactional email (verification, invitations) |
| **Sharp**       | Server-side image processing (WebP variants)    |
| **Mapbox**      | Maps and geolocation (school location)          |
| **Stripe**      | Payment processing (enrollment, subscriptions)  |
| **Plaid**       | Banking integration (finance module)            |
| **next-themes** | Dark/light theme switching                      |
| **Fumadocs**    | MDX documentation framework                     |

## Design System

| Aspect       | Spec                                     |
| ------------ | ---------------------------------------- |
| Arabic font  | Rubik                                    |
| English font | Inter                                    |
| Typography   | Semantic HTML only                       |
| Colors       | OKLCH with Blue primary, Amber secondary |
| Components   | shadcn/ui (Radix primitives)             |
| Theme        | Dark/light via next-themes               |

## Development Tools

| Tool            | Purpose                                          |
| --------------- | ------------------------------------------------ |
| **pnpm**        | Package manager (Vercel requirement)             |
| **Turbopack**   | Dev server bundler (via Next.js 16)              |
| **Vitest**      | Unit testing                                     |
| **Playwright**  | E2E testing                                      |
| **ESLint**      | Linting                                          |
| **Prettier**    | Code formatting                                  |
| **Claude Code** | AI-assisted development (34 agents, 22 commands) |

## Runtime Strategy

| Route Type   | Runtime | Reason                             |
| ------------ | ------- | ---------------------------------- |
| Auth pages   | Node.js | bcrypt requires Node.js APIs       |
| Prisma pages | Node.js | Prisma client requires Node.js     |
| Static pages | Edge    | Faster TTFB via edge caching       |
| Middleware   | Edge    | Subdomain detection, URL rewriting |
