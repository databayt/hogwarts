---
title: Database Seeds
description: Bilingual seed system for Demo School data (AR/EN)
---

# Database Seeds

The seed system creates realistic K-12 school data for **demo.databayt.org** with full **bilingual support (Arabic/English)**.

## Quick Start

```bash
# Seed everything at once
pnpm db:seed

# Or seed one phase at a time
pnpm db:seed:single school
pnpm db:seed:single auth
pnpm db:seed:single academic
# ... and so on
```

## Bilingual Strategy

All seed data follows a bilingual pattern:

| Language | Usage | Priority |
|----------|-------|----------|
| **Arabic (AR)** | Primary display language, RTL | Default |
| **English (EN)** | Database storage, API compatibility | Fallback |

### Schema Support

Models with built-in bilingual fields:

```prisma
// YearLevel - has levelNameAr
model YearLevel {
  levelName   String   // English (e.g., "Grade 1")
  levelNameAr String?  // Arabic (e.g., "Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„")
}

// Subject - has subjectNameAr
model Subject {
  subjectName   String   // English
  subjectNameAr String?  // Arabic
}

// Department - has departmentNameAr
model Department {
  departmentName   String   // English
  departmentNameAr String?  // Arabic
}

// Class - has nameAr
model Class {
  name   String   // English
  nameAr String?  // Arabic
}
```

### Display Logic

```typescript
// In components, select language based on locale
const displayName = lang === 'ar'
  ? (item.nameAr || item.name)  // Arabic with English fallback
  : item.name;                   // English
```

---

## Seed Phases

Run seeds in order due to dependencies:

| # | Phase | Command | Creates | Depends On |
|---|-------|---------|---------|------------|
| 1 | **cleanup** | `pnpm db:seed:single cleanup` | Clears all data | - |
| 2 | **school** | `pnpm db:seed:single school` | Demo School + branding | - |
| 3 | **auth** | `pnpm db:seed:single auth` | 4 admin users | school |
| 4 | **academic** | `pnpm db:seed:single academic` | Year, terms, levels, periods | school |
| 5 | **departments** | `pnpm db:seed:single departments` | 6 departments, 20 subjects | school |
| 6 | **classrooms** | `pnpm db:seed:single classrooms` | 17 rooms | school |
| 7 | **people** | `pnpm db:seed:single people` | 100 teachers, 1000 students, 2000 guardians | school, academic, departments |
| 8 | **classes** | `pnpm db:seed:single classes` | Class sections + enrollments | people, classrooms, subjects |
| 9 | **library** | `pnpm db:seed:single library` | Books (AR/EN) | school |
| 10 | **announcements** | `pnpm db:seed:single announcements` | Announcements | classes |
| 11 | **events** | `pnpm db:seed:single events` | Calendar events | school |
| 12 | **fees** | `pnpm db:seed:single fees` | Fee structures | classes, students |
| 13 | **finance** | `pnpm db:seed:single finance` | Accounts, transactions | users, teachers |
| 14 | **exams** | `pnpm db:seed:single exams` | Exam schedules | classes, subjects |
| 15 | **grades** | `pnpm db:seed:single grades` | Student grades | classes, subjects |
| 16 | **timetable** | `pnpm db:seed:single timetable` | Class schedules | classes, periods |
| 17 | **stream** | `pnpm db:seed:single stream` | LMS courses | teachers |
| 18 | **lessons** | `pnpm db:seed:single lessons` | Lesson plans | classes |
| 19 | **reports** | `pnpm db:seed:single reports` | Student reports | students, subjects |
| 20 | **attendance** | `pnpm db:seed:single attendance` | Attendance records | classes, students |
| 21 | **admission** | `pnpm db:seed:single admission` | Applications | admin user |

---

## Demo School Configuration

### School Identity

| Field | English | Arabic |
|-------|---------|--------|
| Name | Demo School | Ù…Ø¯Ø±Ø³Ø© Ø¯Ø§Ø± Ø¨Ø§ÙŠØª Ø§Ù„ØªØ¬Ø±ÙŠØ¨ÙŠØ© |
| Domain | demo.databayt.org | - |
| Motto | Always Forward | Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù…Ø§Ù… Ø¯Ø§Ø¦Ù…Ø§Ù‹ |
| Type | Full K-12 School | Ù…Ø¯Ø±Ø³Ø© Ù…ØªÙƒØ§Ù…Ù„Ø© (Ø±ÙˆØ¶Ø© - Ø«Ø§Ù†ÙˆÙŠ) |

### Location

| Field | English | Arabic |
|-------|---------|--------|
| Address | University Street, Khartoum | Ø´Ø§Ø±Ø¹ Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©ØŒ Ø§Ù„Ø®Ø±Ø·ÙˆÙ… |
| City | Khartoum | Ø§Ù„Ø®Ø±Ø·ÙˆÙ… |
| State | Khartoum State | ÙˆÙ„Ø§ÙŠØ© Ø§Ù„Ø®Ø±Ø·ÙˆÙ… |
| Country | Sudan | Ø§Ù„Ø³ÙˆØ¯Ø§Ù† |
| Timezone | Africa/Khartoum | - |
| Phone | +249-183-123456 | +Ù¢Ù¤Ù©-Ù¡Ù¨Ù£-Ù¡Ù¢Ù£Ù¤Ù¥Ù¦ |

### Configuration

```typescript
{
  planType: "enterprise",
  maxStudents: 1200,
  maxTeachers: 120,
  currency: "SDG",
  workingDays: [0, 1, 2, 3, 4], // Sun-Thu
}
```

---

## Admin Users

All accounts use password: **1234**

| Role | Email | English | Arabic |
|------|-------|---------|--------|
| DEVELOPER | dev@databayt.org | System Developer | Ù…Ø·ÙˆØ± Ø§Ù„Ù†Ø¸Ø§Ù… |
| ADMIN | admin@databayt.org | School Admin | Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© |
| ACCOUNTANT | accountant@databayt.org | School Accountant | Ù…Ø­Ø§Ø³Ø¨ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© |
| STAFF | staff@databayt.org | School Staff | Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø¯Ø±Ø³Ø© |

### Role Permissions

| Role | Access | Description (EN) | Description (AR) |
|------|--------|------------------|------------------|
| DEVELOPER | All schools | Platform Developer - Full Access | Ù…Ø·ÙˆØ± Ø§Ù„Ù…Ù†ØµØ© - ØµÙ„Ø§Ø­ÙŠØ§Øª ÙƒØ§Ù…Ù„Ø© |
| ADMIN | School-scoped | School Administrator | Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø¯Ø±Ø³Ø© - ØµÙ„Ø§Ø­ÙŠØ§Øª Ø¥Ø¯Ø§Ø±ÙŠØ© |
| ACCOUNTANT | Finance modules | School Accountant | Ù…Ø­Ø§Ø³Ø¨ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© - ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø§Ù„ÙŠØ© |
| STAFF | Limited | School Staff | Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø¯Ø±Ø³Ø© - ØµÙ„Ø§Ø­ÙŠØ§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© |

---

## Academic Structure

### Year Levels (14 levels, K-12)

| Section | Levels (EN) | Levels (AR) | Students |
|---------|-------------|-------------|----------|
| Kindergarten | KG 1, KG 2 | Ø±ÙˆØ¶Ø© Ø£ÙˆÙ„Ù‰ØŒ Ø±ÙˆØ¶Ø© Ø«Ø§Ù†ÙŠØ© | 200 |
| Primary | Grade 1-6 | Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ - Ø§Ù„Ø³Ø§Ø¯Ø³ | 460 |
| Intermediate | Grade 7-9 | Ø§Ù„ØµÙ Ø§Ù„Ø³Ø§Ø¨Ø¹ - Ø§Ù„ØªØ§Ø³Ø¹ | 180 |
| Secondary | Grade 10-12 | Ø§Ù„ØµÙ Ø§Ù„Ø¹Ø§Ø´Ø± - Ø§Ù„Ø«Ø§Ù†ÙŠ Ø¹Ø´Ø± | 160 |

**Total: 1000 students** (10x scale for production-realistic demo)

### Departments (6)

| English | Arabic | Subjects |
|---------|--------|----------|
| Languages | Ø§Ù„Ù„ØºØ§Øª | Arabic, English, French, Reading, Writing |
| Sciences | Ø§Ù„Ø¹Ù„ÙˆÙ… | Mathematics, Science, Physics, Chemistry, Biology |
| Humanities | Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ÙŠØ© | Social Studies, Geography, History, Civics |
| Religion | Ø§Ù„Ø¯ÙŠÙ† | Islamic Studies, Quran |
| ICT | ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª | Computer Science |
| Arts & PE | Ø§Ù„ÙÙ†ÙˆÙ† ÙˆØ§Ù„Ø±ÙŠØ§Ø¶Ø© | Art, Physical Education, Music |

### Periods (Sudanese School Day)

| # | English | Arabic | Time |
|---|---------|--------|------|
| 1 | Period 1 | Ø§Ù„Ø­ØµØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ | 7:45 - 8:30 |
| 2 | Period 2 | Ø§Ù„Ø­ØµØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ© | 8:35 - 9:20 |
| - | Break | Ø§Ù„Ø§Ø³ØªØ±Ø§Ø­Ø© | 9:20 - 9:40 |
| 3 | Period 3 | Ø§Ù„Ø­ØµØ© Ø§Ù„Ø«Ø§Ù„Ø«Ø© | 9:40 - 10:25 |
| 4 | Period 4 | Ø§Ù„Ø­ØµØ© Ø§Ù„Ø±Ø§Ø¨Ø¹Ø© | 10:30 - 11:15 |
| 5 | Period 5 | Ø§Ù„Ø­ØµØ© Ø§Ù„Ø®Ø§Ù…Ø³Ø© | 11:20 - 12:05 |
| - | Lunch | Ø§Ù„ØºØ¯Ø§Ø¡ | 12:05 - 12:45 |
| 6 | Period 6 | Ø§Ù„Ø­ØµØ© Ø§Ù„Ø³Ø§Ø¯Ø³Ø© | 12:45 - 13:30 |
| 7 | Period 7 | Ø§Ù„Ø­ØµØ© Ø§Ù„Ø³Ø§Ø¨Ø¹Ø© | 13:35 - 14:20 |

---

## File Structure

```
prisma/seeds/
â”œâ”€â”€ index.ts           # Main orchestrator (full seed)
â”œâ”€â”€ run-single.ts      # Individual phase runner
â”œâ”€â”€ constants.ts       # Bilingual data constants
â”œâ”€â”€ types.ts           # TypeScript types
â”œâ”€â”€ cleanup.ts         # Database cleanup
â”‚
â”œâ”€â”€ school.ts          # Phase 2: School + branding
â”œâ”€â”€ auth.ts            # Phase 3: Admin users
â”œâ”€â”€ academic.ts        # Phase 4: Year, terms, levels
â”œâ”€â”€ departments.ts     # Phase 5: Departments + subjects
â”œâ”€â”€ classrooms.ts      # Phase 6: Physical rooms
â”œâ”€â”€ people.ts          # Phase 7: Teachers, students, guardians
â”œâ”€â”€ classes.ts         # Phase 8: Class sections
â”‚
â”œâ”€â”€ library.ts         # Phase 9: Books
â”œâ”€â”€ announcements.ts   # Phase 10: Announcements
â”œâ”€â”€ events.ts          # Phase 11: Events
â”œâ”€â”€ fees.ts            # Phase 12: Fee structures
â”œâ”€â”€ finance.ts         # Phase 13: Finance data
â”œâ”€â”€ exams.ts           # Phase 14: Exam schedules
â”œâ”€â”€ grades.ts          # Phase 15: Student grades
â”œâ”€â”€ timetable.ts       # Phase 16: Class schedules
â”œâ”€â”€ stream.ts          # Phase 17: LMS courses
â”œâ”€â”€ lessons.ts         # Phase 18: Lesson plans
â”œâ”€â”€ reports.ts         # Phase 19: Student reports
â”œâ”€â”€ attendance.ts      # Phase 20: Attendance
â””â”€â”€ admission.ts       # Phase 21: Applications
```

---

## Constants Reference

### `constants.ts` Exports

```typescript
// School
export const DEMO_SCHOOL: {
  domain: string;
  nameAr: string;
  nameEn: string;
  // ... all school config
}

// Academic
export const YEAR_LEVELS: YearLevelData[];    // 14 levels
export const DEPARTMENTS: DepartmentData[];   // 6 departments
export const SUBJECTS: SubjectData[];         // 20 subjects
export const CURRICULUM: Record<string, string[]>;
export const PERIODS: PeriodData[];           // 9 periods
export const CLASSROOMS: ClassroomData[];     // 17 rooms

// People
export const TEACHER_DATA: TeacherData[];     // 25 hand-crafted teachers
export function getAllTeachers();             // 100 teachers (scaled)
export const MALE_NAMES: { givenAr, givenEn };
export const FEMALE_NAMES: { givenAr, givenEn };
export const SURNAMES: { ar, en };
export const ADMIN_USERS: AdminUserData[];    // 4 admins

// Email System (Personal emails, NOT numbered IDs)
export const EMAIL_DOMAINS: EmailDomainData[];
export function generatePersonalEmail(givenName, surname, index);

// Helpers
export function getRandomName(gender, index);
export function findSubjectAr(subjectEn);
export function findYearLevelAr(levelEn);
export function getClassName(subject, level, section);
```

---

## Adding New Seeds

### 1. Create Seed File

```typescript
// prisma/seeds/my-feature.ts
import type { SeedPrisma } from "./types";

export async function seedMyFeature(
  prisma: SeedPrisma,
  schoolId: string,
  // ... dependencies
) {
  console.log("ğŸ¯ Creating My Feature (Bilingual AR/EN)...");

  // Create records with bilingual data
  await prisma.myModel.create({
    data: {
      name: "English Name",
      nameAr: "Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠ",
      schoolId,
    },
  });

  console.log("   âœ… My Feature created");
}
```

### 2. Add to Constants

```typescript
// prisma/seeds/constants.ts
export interface MyFeatureData {
  ar: string;
  en: string;
  // ...
}

export const MY_FEATURE_DATA: MyFeatureData[] = [
  { ar: "Ø¹Ø±Ø¨ÙŠ", en: "English", /* ... */ },
];
```

### 3. Register in Runner

```typescript
// prisma/seeds/run-single.ts
import { seedMyFeature } from "./my-feature";

case "my-feature": {
  const school = await getSchool();
  await seedMyFeature(prisma, school.id);
  console.log("âœ… My Feature seeded");
  break;
}
```

### 4. Add to Main Index

```typescript
// prisma/seeds/index.ts
import { seedMyFeature } from "./my-feature";

// In main()
await seedMyFeature(prisma, schoolId, /* deps */);
```

---

## Troubleshooting

### Reset and Reseed

```bash
# Clear and reseed everything
pnpm db:seed:single cleanup
pnpm db:seed

# Or use Prisma reset
npx prisma migrate reset
```

### Check Seed Status

```bash
# Verify school exists
npx prisma studio

# Query directly
npx prisma db execute --stdin <<< "SELECT domain, name FROM schools"
```

### Common Issues

| Issue | Solution |
|-------|----------|
| "School not found" | Run `school` phase first |
| "Duplicate key" | Run `cleanup` first |
| "Foreign key constraint" | Check dependency order |
| "Prisma client not found" | Run `pnpm prisma generate` |

---

## Personal Email System

All users are assigned **realistic personal emails** (not numbered IDs):

### Email Format

```typescript
// âœ… CORRECT - Personal emails like real users (no dots)
"osman@gmail.com"
"fatimahassan@hotmail.com"
"ahmedkhalid@outlook.com"
"mariam42@yahoo.com"

// âŒ WRONG - Avoid numbered IDs
"student001@school.sd"
"teacher_1@demo.databayt.org"
"parent1@demo.com"
```

### Email Domains

| Domain | Distribution |
|--------|-------------|
| gmail.com | 40% |
| hotmail.com | 25% |
| outlook.com | 15% |
| yahoo.com | 15% |
| sudanet.sd | 5% (local Sudanese) |

### Format

All emails use the format: `firstnamelastname@domain.com`

---

## Data Scale

| Entity | Count | Notes |
|--------|-------|-------|
| Students | 1000 | ~70 per grade average |
| Teachers | 100 | 1:10 student-teacher ratio |
| Guardians | 2000 | 2 per student (father + mother) |
| Subjects | 20 | Full K-12 curriculum |
| Classes | 200+ | Multiple sections per subject/grade |
| Classrooms | 17 | Labs, rooms, special facilities |

---

## Production Considerations

The seed system is designed for **development and demo environments**.

For production:
- Never run cleanup on production database
- Use migrations for schema changes
- Seed data should be environment-specific
- Consider using separate seed commands for production vs development
