---
title: "Dashboard"
description: "Comprehensive overview of the dashboard system providing role-based, financial, operator, and learning management views across the school automation platform."
---

The platform features **6 distinct dashboard types** serving different audiences and purposes. Each dashboard provides tailored metrics, visualizations, and actions optimized for its target users.

## Dashboard Types Overview

| Dashboard | Location | Route | Purpose | Target Users |
|-----------|----------|-------|---------|--------------|
| **Platform Dashboard** | `components/platform/dashboard/` | `/[lang]/s/[subdomain]/dashboard` | School operations overview | All school roles (8 types) |
| **Operator Dashboard** | `components/operator/dashboard/` | `/[lang]/dashboard` | Platform-wide management | Platform operators |
| **Finance Dashboard** | `components/platform/finance/dashboard/` | `/[lang]/s/[subdomain]/finance/dashboard` | Financial KPIs & analytics | Admin, Accountant |
| **Banking Dashboard** | `components/platform/finance/banking/dashboard/` | `/[lang]/s/[subdomain]/finance/banking` | Bank account management | Admin, Accountant |
| **Invoice Dashboard** | `components/platform/finance/invoice/dashboard/` | `/[lang]/s/[subdomain]/finance/invoice` | Invoice tracking & stats | Admin, Accountant |
| **Stream Dashboard** | `components/stream/dashboard/` | `/[lang]/s/[subdomain]/stream/dashboard` | Learning management | Students, Teachers |

---

## Directory Structure

### Complete Dashboard Architecture

```
src/
├── app/
│   ├── [lang]/
│   │   ├── (operator)/
│   │   │   └── dashboard/
│   │   │       └── page.tsx                    # Operator Dashboard route
│   │   │
│   │   └── s/[subdomain]/(platform)/
│   │       ├── dashboard/
│   │       │   ├── page.tsx                    # Platform Dashboard route
│   │       │   ├── layout.tsx                  # Dashboard layout
│   │       │   ├── loading.tsx                 # Loading state
│   │       │   ├── error.tsx                   # Error boundary
│   │       │   └── settings/
│   │       │       └── page.tsx                # Dashboard settings
│   │       │
│   │       ├── finance/
│   │       │   ├── dashboard/
│   │       │   │   └── page.tsx                # Finance Dashboard route
│   │       │   ├── banking/
│   │       │   │   └── page.tsx                # Banking Dashboard route
│   │       │   └── invoice/(dashboard)/
│   │       │       └── page.tsx                # Invoice Dashboard route
│   │       │
│   │       └── stream/
│   │           └── dashboard/
│   │               ├── page.tsx                # Stream Dashboard route
│   │               └── [slug]/
│   │                   ├── page.tsx            # Course details
│   │                   └── [lessonId]/
│   │                       └── page.tsx        # Lesson view
│   │
│   └── api/
│       └── dashboard/
│           └── route.ts                        # Dashboard API endpoint
│
└── components/
    ├── platform/
    │   ├── dashboard/                          # Platform Dashboard (~90 files)
    │   │   ├── content.tsx                     # Role routing (main entry)
    │   │   ├── content-client.tsx              # Client wrapper
    │   │   ├── actions.ts                      # Server actions (~63KB)
    │   │   ├── config.ts                       # Role mappings, icons
    │   │   ├── validation.ts                   # Zod schemas
    │   │   │
    │   │   │ # Role-Based Dashboards
    │   │   ├── admin.tsx                       # Admin dashboard (server)
    │   │   ├── admin-client.tsx                # Admin dashboard (client)
    │   │   ├── student.tsx                     # Student dashboard
    │   │   ├── teacher.tsx                     # Teacher dashboard
    │   │   ├── parent.tsx                      # Parent/Guardian dashboard
    │   │   ├── principal.tsx                   # Principal dashboard
    │   │   ├── accountant.tsx                  # Accountant dashboard
    │   │   ├── staff.tsx                       # Staff dashboard
    │   │   │
    │   │   │ # Shared Widgets
    │   │   ├── welcome-banner.tsx              # Personalized greeting
    │   │   ├── metric-card.tsx                 # Key stat with trend
    │   │   ├── activity-rings.tsx              # Apple-style progress
    │   │   ├── schedule-item.tsx               # Timetable entries
    │   │   ├── announcement-card.tsx           # School announcements
    │   │   ├── progress-card.tsx               # Goal tracking
    │   │   ├── quick-actions.tsx               # Action shortcuts
    │   │   ├── quick-actions-config.ts         # Action definitions
    │   │   ├── chart-card.tsx                  # Chart container
    │   │   ├── empty-state.tsx                 # No data placeholder
    │   │   │
    │   │   │ # Chart Components
    │   │   ├── attendance-chart.tsx            # Attendance trends
    │   │   ├── grade-chart.tsx                 # Grade distribution
    │   │   ├── revenue-chart.tsx               # Revenue vs expenses
    │   │   ├── performance-gauge.tsx           # Radial gauge
    │   │   ├── weekly-chart.tsx                # Weekly bar chart
    │   │   ├── comparison-chart.tsx            # Period comparison
    │   │   │
    │   │   │ # Showcase Components (card-*, chart-*, stat-*)
    │   │   ├── card-*.tsx                      # 14 card components
    │   │   ├── chart-*.tsx                     # 10 chart components
    │   │   ├── stat-*.tsx                      # 17 stat components
    │   │   ├── dashboard-showcase.tsx          # Full showcase
    │   │   │
    │   │   │ # Infrastructure
    │   │   ├── header.tsx                      # Dashboard header
    │   │   ├── loading.tsx                     # Loading skeleton
    │   │   ├── error-boundary.tsx              # Error handling
    │   │   ├── search-command.tsx              # Command palette
    │   │   │
    │   │   └── settings/                       # Settings subdirectory
    │   │       ├── content.tsx
    │   │       └── user-name-form.tsx
    │   │
    │   └── finance/
    │       ├── dashboard/                      # Finance Dashboard (~12 files)
    │       │   ├── content.tsx                 # Main entry
    │       │   ├── actions.ts                  # Server actions
    │       │   ├── types.ts                    # TypeScript types
    │       │   ├── kpi-card.tsx                # KPI cards
    │       │   ├── revenue-chart.tsx           # Revenue chart
    │       │   ├── expense-chart.tsx           # Expense breakdown
    │       │   ├── cash-flow-chart.tsx         # Cash flow
    │       │   ├── bank-accounts-summary.tsx   # Bank summary
    │       │   ├── quick-actions.tsx           # Finance actions
    │       │   ├── alert-card.tsx              # Financial alerts
    │       │   └── transaction-list.tsx        # Recent transactions
    │       │
    │       ├── banking/dashboard/              # Banking Dashboard (~7 files)
    │       │   ├── content.tsx                 # Main entry
    │       │   ├── header.tsx                  # Header with balance
    │       │   ├── main-content.tsx            # Account details
    │       │   ├── sidebar.tsx                 # Account list
    │       │   ├── account-tabs.tsx            # Tab navigation
    │       │   ├── recent-transactions.tsx     # Transaction list
    │       │   └── skeleton.tsx                # Loading state
    │       │
    │       └── invoice/dashboard/              # Invoice Dashboard (~7 files)
    │           ├── content.tsx                 # Main entry
    │           ├── actions.ts                  # Server actions
    │           ├── config.ts                   # Chart config
    │           ├── header.tsx                  # Dashboard header
    │           ├── card.tsx                    # Stats cards
    │           ├── chart-invoice.tsx           # Invoice chart
    │           └── data-table.tsx              # Invoice table
    │
    ├── operator/
    │   └── dashboard/                          # Operator Dashboard (~14 files)
    │       ├── content.tsx                     # Main entry
    │       ├── config.ts                       # Configuration
    │       ├── card.tsx                        # Stat cards
    │       ├── metrics-cards.tsx               # KPI metrics
    │       ├── period-switcher.tsx             # Time period selector
    │       ├── overview.tsx                    # Overview section
    │       ├── recent-sales.tsx                # Recent subscriptions
    │       ├── recent-sales-skeleton.tsx       # Loading state
    │       ├── bar-graph.tsx                   # Bar chart
    │       ├── bar-graph-skeleton.tsx          # Loading state
    │       ├── area-graph.tsx                  # Area chart
    │       ├── area-graph-skeleton.tsx         # Loading state
    │       ├── pie-graph.tsx                   # Pie chart
    │       └── pie-graph-skeleton.tsx          # Loading state
    │
    └── stream/
        └── dashboard/                          # Stream Dashboard (~3 files)
            ├── content.tsx                     # Main entry
            └── lesson/
                └── actions.ts                  # Lesson actions
```

---

## 1. Platform Dashboard (Role-Based)

The main school dashboard provides **role-based personalized views** for 8 different user types. Each dashboard is tailored to the specific needs and responsibilities of its target user.

### Role-Based Architecture

The dashboard uses a **switch-case routing pattern** in `content.tsx` to render the appropriate dashboard component based on the user's role:

```tsx
switch (userRole) {
  case "STUDENT":
    return <StudentDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "TEACHER":
    return <TeacherDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "GUARDIAN":
    return <ParentDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "STAFF":
    return <StaffDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "ADMIN":
  case "DEVELOPER":
    return <AdminDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "PRINCIPAL":
    return <PrincipalDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "ACCOUNTANT":
    return <AccountantDashboard user={user} dictionary={safeDict} locale={locale} />;
  default:
    return <DefaultDashboard user={user} dictionary={safeDict} />;
}
```

### Dashboard Overview by Role

| Role | Dashboard | Primary Focus | Key Metrics |
|------|-----------|---------------|-------------|
| **ADMIN/DEVELOPER** | AdminDashboard | System overview, billing | Resource usage, invoices, quick actions |
| **PRINCIPAL** | PrincipalDashboard | School performance | Scorecard, alerts, budget, staff evaluations |
| **TEACHER** | TeacherDashboard | Teaching activities | Classes today, grading, attendance, students |
| **STUDENT** | StudentDashboard | Academic progress | Grades, assignments, attendance, schedule |
| **GUARDIAN** | ParentDashboard | Child monitoring | Children overview, grades, attendance, fees |
| **ACCOUNTANT** | AccountantDashboard | Financial management | Collections, invoices, revenue, transactions |
| **STAFF** | StaffDashboard | Operations | Tasks, requests, approvals, maintenance |
| **USER** | DefaultDashboard | Basic info | Welcome message, role placeholder |

### Quick Actions by Role

Each role has 6 predefined quick actions:

| Role | Quick Actions |
|------|---------------|
| **ADMIN** | Reports, Approvals, Announce, Users, Settings, Analytics |
| **PRINCIPAL** | Reports, Staff, Announce, Approvals, Performance, Events |
| **TEACHER** | Attendance, Grades, Assignments, Messages, Timetable, Lessons |
| **STUDENT** | Assignments, Grades, Timetable, Messages, Library, Attendance |
| **GUARDIAN** | Children, Grades, Attendance, Messages, Fees, Announce |
| **ACCOUNTANT** | Invoices, Receipts, Reports, Fees, Approvals, Budget |
| **STAFF** | Tasks, Schedule, Messages, Announce, Reports, Directory |

---

## 2. Operator Dashboard (Platform Admin)

The operator dashboard is for **platform administrators** managing all schools across the system. It provides MRR (Monthly Recurring Revenue) metrics, churn rates, and platform-wide analytics.

### Key Features

- **MRR Tracking**: Current monthly recurring revenue with growth percentage
- **Annual Run Rate**: Projected yearly revenue based on current MRR
- **Churn Rate**: School cancellation rate with churned count
- **Platform Metrics**: Total schools, active schools, users, students
- **Revenue Charts**: Bar, area, and pie graphs for financial visualization
- **Recent Sales**: Latest subscription activity

### Components

| Component | Purpose |
|-----------|---------|
| `MetricsCards` | Total schools, active schools, users, students |
| `PeriodSwitcher` | Toggle between time periods |
| `BarGraph` | Revenue comparison by period |
| `AreaGraph` | Revenue trends over time |
| `PieGraph` | Revenue distribution |
| `RecentSales` | Latest subscription transactions |

---

## 3. Finance Dashboard

The finance dashboard provides **comprehensive financial analytics** for school administrators and accountants.

### Role-Based Access

| Access Level | Roles | Features |
|--------------|-------|----------|
| **Full Access** | ADMIN, ACCOUNTANT | All KPIs, charts, transactions, budget |
| **Limited Access** | TEACHER, STAFF | Net profit, payroll expense |
| **Minimal Access** | STUDENT, GUARDIAN | Payment status, outstanding invoices |

### KPI Cards (8 Metrics)

| KPI | Description |
|-----|-------------|
| Total Revenue | Total invoiced amount with trend |
| Collected Revenue | Paid amount with collection rate |
| Total Expenses | All expenses this period |
| Net Profit | Revenue minus expenses with margin |
| Cash Balance | Current balance with runway |
| Outstanding | Unpaid invoices with overdue count |
| Students Paid | Fee payment status ratio |
| Payroll | Processed and pending payroll |

### Charts

- **Revenue Chart**: Revenue vs expenses vs profit over time
- **Expense Chart**: Expense breakdown by category
- **Cash Flow Chart**: Inflow, outflow, and balance
- **Bank Accounts Summary**: Multi-account overview
- **Budget Overview**: Category-wise budget utilization

---

## 4. Banking Dashboard

The banking dashboard manages **connected bank accounts** with real-time balances and transaction history.

### Features

- **Account Overview**: Total balance across all accounts
- **Account Tabs**: Switch between connected accounts
- **Transaction List**: Recent transactions with filtering
- **Permission-Based**: Requires banking view permission

### Components

| Component | Purpose |
|-----------|---------|
| `DashboardHeader` | User info, total balance |
| `DashboardMainContent` | Account details, transactions |
| `DashboardSidebar` | Account list |
| `AccountTabs` | Tab navigation |
| `RecentTransactions` | Transaction list |

---

## 5. Invoice Dashboard

The invoice dashboard tracks **invoice metrics and recent activity**.

### Features

- **Total Revenue**: Cumulative invoiced amount
- **Invoice Counts**: Total, paid, unpaid
- **Invoice Chart**: Visual breakdown by status
- **Recent Invoices**: Latest 10 invoices (30 days)

### Components

| Component | Purpose |
|-----------|---------|
| `StatsCards` | Revenue, total, paid, unpaid counts |
| `ChartInvoice` | Visual invoice breakdown |
| `RecentInvoicesCard` | Data table of recent invoices |

---

## 6. Stream Dashboard (LMS)

The stream dashboard is for the **Learning Management System**, showing enrolled courses and available courses.

### Sections

- **Enrolled Courses**: Courses the user has access to
- **Available Courses**: Courses available for purchase/enrollment

### Nested Routes

```
/stream/dashboard
  └── /[slug]           # Course details
      └── /[lessonId]   # Lesson view
```

---

## Multi-Tenant Architecture

All dashboards follow the **multi-tenant safety pattern** with `schoolId` scoping:

```tsx
// Get tenant context for subdomain
const { schoolId } = await getTenantContext();

// All database queries include schoolId
const students = await db.student.count({ where: { schoolId } });
```

---

## Common UI Components

Every dashboard uses shared widgets:

| Widget | File | Purpose | Used By |
|--------|------|---------|---------|
| `WelcomeBanner` | `welcome-banner.tsx` | Personalized greeting | All roles |
| `MetricCard` | `metric-card.tsx` | Key stat with trend | All roles |
| `ActivityRings` | `activity-rings.tsx` | Apple-style progress | All roles |
| `ScheduleItem` | `schedule-item.tsx` | Timetable entries | Teacher, Student |
| `ProgressCard` | `progress-card.tsx` | Goal tracking | All roles |
| `AnnouncementCard` | `announcement-card.tsx` | School announcements | Student, Parent |
| `QuickActionsGrid` | `quick-action.tsx` | Shortcut buttons | All roles |
| `EmptyState` | `empty-state.tsx` | No data placeholder | All roles |
| `ChartCard` | `chart-card.tsx` | Chart container | All roles |

---

## Server Actions

Dashboard data is fetched via server actions:

| Action | Returns | Used By |
|--------|---------|---------|
| `getDashboardSummary()` | All metrics aggregated | Admin |
| `getEnrollmentMetrics()` | Student counts | Admin, Principal |
| `getAttendanceMetrics()` | Attendance rates | Admin, Principal, Teacher |
| `getStaffMetrics()` | Teacher counts | Admin, Principal |
| `getAcademicPerformanceMetrics()` | GPA, exams, assignments | Principal, Teacher |
| `getAnnouncementsMetrics()` | Announcement counts | All roles |
| `getClassesMetrics()` | Class counts, ratios | Admin, Principal |
| `getRecentActivities()` | Activity feed | Admin |
| `getTeacherDashboardData()` | Teacher-specific data | Teacher |
| `getStudentDashboardData()` | Student-specific data | Student |
| `getParentDashboardData()` | Parent-specific data | Parent |
| `getPrincipalDashboardData()` | Principal-specific data | Principal |
| `getDashboardStats()` | Finance dashboard stats | Accountant, Admin |
| `getRecentTransactions()` | Transaction list | Accountant, Admin |
| `getFinancialAlerts()` | Financial warnings | Accountant, Admin |
| `calculateMRR()` | Monthly recurring revenue | Operator |
| `calculateChurnRate()` | Churn percentage | Operator |

---

## Internationalization

Dashboards support Arabic (RTL) and English (LTR):

```tsx
const dashDict = dictionary?.teacherDashboard || {
  stats: { todaysClasses: "Today's Classes", ... },
  sections: { todaysClasses: "Today's Classes", ... },
  labels: { room: "Room", students: "students", ... },
};
```

---

## Error Handling

All dashboards implement comprehensive error handling:

```tsx
try {
  const data = await getDashboardData();
  return <DashboardContent data={data} />;
} catch (error) {
  console.error("[Dashboard] Error:", error);
  return <DashboardSectionError title="Unable to Load" message="..." />;
}
```

---

## Related Documentation

- [Dashboard - Admin](/docs/dashboard-admin) - Admin/Developer dashboard
- [Dashboard - Principal](/docs/dashboard-principal) - Principal dashboard
- [Dashboard - Teacher](/docs/dashboard-teacher) - Teacher dashboard
- [Dashboard - Student](/docs/dashboard-student) - Student dashboard
- [Dashboard - Parent](/docs/dashboard-parent) - Parent/Guardian dashboard
- [Dashboard - Accountant](/docs/dashboard-accountant) - Accountant dashboard
- [Dashboard - Staff](/docs/dashboard-staff) - Staff dashboard
- [Dashboard - Widgets](/docs/dashboard-widgets) - Widget reference
- [Dashboard - Charts](/docs/dashboard-charts) - Chart reference
- [Dashboard - Actions](/docs/dashboard-actions) - Server actions reference
