---
title: "Dashboard"
description: "Comprehensive overview of the role-based dashboard system providing personalized views for all user types in the school automation platform."
---

The dashboard system provides **role-based personalized views** for 8 different user types. Each dashboard is tailored to the specific needs and responsibilities of its target user, displaying relevant metrics, quick actions, and data visualizations.

## Role-Based Architecture

The dashboard uses a **switch-case routing pattern** in `content.tsx` to render the appropriate dashboard component based on the user's role:

```tsx
switch (userRole) {
  case "STUDENT":
    return <StudentDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "TEACHER":
    return <TeacherDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "GUARDIAN":
    return <ParentDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "STAFF":
    return <StaffDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "ADMIN":
  case "DEVELOPER":
    return <AdminDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "PRINCIPAL":
    return <PrincipalDashboard user={user} dictionary={safeDict} locale={locale} />;
  case "ACCOUNTANT":
    return <AccountantDashboard user={user} dictionary={safeDict} locale={locale} />;
  default:
    return <DefaultDashboard user={user} dictionary={safeDict} />;
}
```

## Dashboard Overview by Role

| Role | Dashboard | Primary Focus | Key Metrics |
|------|-----------|---------------|-------------|
| **ADMIN/DEVELOPER** | AdminDashboard | System overview, billing | Resource usage, invoices, quick actions |
| **PRINCIPAL** | PrincipalDashboard | School performance | Scorecard, alerts, budget, staff evaluations |
| **TEACHER** | TeacherDashboard | Teaching activities | Classes today, grading, attendance, students |
| **STUDENT** | StudentDashboard | Academic progress | Grades, assignments, attendance, schedule |
| **GUARDIAN** | ParentDashboard | Child monitoring | Children overview, grades, attendance, fees |
| **ACCOUNTANT** | AccountantDashboard | Financial management | Collections, invoices, revenue, transactions |
| **STAFF** | StaffDashboard | Operations | Tasks, requests, approvals, maintenance |
| **USER** | DefaultDashboard | Basic info | Welcome message, role placeholder |

## Multi-Tenant Architecture

All dashboards follow the **multi-tenant safety pattern** with `schoolId` scoping:

```tsx
// Get tenant context for subdomain
const { schoolId } = await getTenantContext();

// All database queries include schoolId
const students = await db.student.count({ where: { schoolId } });
```

## Common UI Components

Every dashboard uses shared widgets as flat files:

| Widget | File | Purpose | Used By |
|--------|------|---------|---------|
| `WelcomeBanner` | `welcome-banner.tsx` | Personalized greeting with time | All roles |
| `MetricCard` | `metric-card.tsx` | Key stat with icon and trend | All roles |
| `ActivityRings` | `activity-rings.tsx` | Apple-style progress indicators | All roles |
| `ScheduleItem` | `schedule-item.tsx` | Timetable entries | Teacher, Student |
| `ProgressCard` | `progress-card.tsx` | Goal tracking with progress bar | All roles |
| `AnnouncementCard` | `announcement-card.tsx` | School announcements | Student, Parent |
| `QuickActionsGrid` | `quick-action.tsx` | Shortcut buttons with variants | All roles |
| `EmptyState` | `empty-state.tsx` | No data placeholder | All roles |
| `ChartCard` | `chart-card.tsx` | Chart container wrapper | All roles |

## Chart Components

Chart components are flat files with descriptive names:

| Chart | File | Purpose | Used By |
|-------|------|---------|---------|
| `AttendanceTrendChart` | `attendance-chart.tsx` | Attendance over time | Principal, Admin |
| `GradeDistributionChart` | `grade-chart.tsx` | Grade breakdown | Principal, Teacher |
| `RevenueChart` | `revenue-chart.tsx` | Revenue vs expenses | Accountant |
| `PerformanceGauge` | `performance-gauge.tsx` | Single metric radial | Student, Accountant, Staff |
| `WeeklyActivityChart` | `weekly-chart.tsx` | Weekly bar chart | Teacher, Accountant, Staff |
| `ComparisonLineChart` | `comparison-chart.tsx` | Period comparison | Student, Parent |

## Quick Actions by Role

Each role has 6 predefined quick actions in `quick-action.tsx` with 4 variants (grid, list, compact, icon-only):

| Role | Quick Actions |
|------|---------------|
| **ADMIN** | Reports, Approvals, Announce, Users, Settings, Analytics |
| **PRINCIPAL** | Reports, Staff, Announce, Approvals, Performance, Events |
| **TEACHER** | Attendance, Grades, Assignments, Messages, Timetable, Lessons |
| **STUDENT** | Assignments, Grades, Timetable, Messages, Library, Attendance |
| **GUARDIAN** | Children, Grades, Attendance, Messages, Fees, Announce |
| **ACCOUNTANT** | Invoices, Receipts, Reports, Fees, Approvals, Budget |
| **STAFF** | Tasks, Schedule, Messages, Announce, Reports, Directory |

## Server Actions

Dashboard data is fetched via consolidated server actions in `actions.ts` (~2300 lines):

| Action | Returns | Used By |
|--------|---------|---------|
| `getDashboardSummary()` | All metrics aggregated | Admin |
| `getEnrollmentMetrics()` | Student counts | Admin, Principal |
| `getAttendanceMetrics()` | Attendance rates | Admin, Principal, Teacher |
| `getStaffMetrics()` | Teacher counts | Admin, Principal |
| `getAcademicPerformanceMetrics()` | GPA, exams, assignments | Principal, Teacher |
| `getAnnouncementsMetrics()` | Announcement counts | All roles |
| `getClassesMetrics()` | Class counts, ratios | Admin, Principal |
| `getRecentActivities()` | Activity feed | Admin |
| `getTeacherDashboardData()` | Teacher-specific data | Teacher |
| `getStudentDashboardData()` | Student-specific data | Student |
| `getParentDashboardData()` | Parent-specific data | Parent |
| `getPrincipalDashboardData()` | Principal-specific data | Principal |

## Directory Structure

The dashboard follows a **flat file structure** (~80 files):

```
src/components/platform/dashboard/
│ # Standardized Files
├── content.tsx              # Role routing (main entry)
├── content-client.tsx       # Client wrapper
├── actions.ts               # Consolidated server actions (~2300 lines)
├── config.ts                # Role mappings, icons, colors
├── types.ts                 # TypeScript interfaces
│
│ # Role-Based Dashboards (flat)
├── admin.tsx                # Admin dashboard (server)
├── admin-client.tsx         # Admin dashboard (client)
├── student.tsx              # Student dashboard
├── teacher.tsx              # Teacher dashboard
├── parent.tsx               # Parent dashboard
├── principal.tsx            # Principal dashboard
├── accountant.tsx           # Accountant dashboard
├── staff.tsx                # Staff dashboard
│
│ # Shared Widgets (flat)
├── welcome-banner.tsx       # Personalized greeting
├── metric-card.tsx          # Key stat with icon/trend
├── activity-rings.tsx       # Apple-style progress rings
├── schedule-item.tsx        # Timetable entries
├── announcement-card.tsx    # Announcement display
├── progress-card.tsx        # Goal tracking
├── quick-action.tsx         # Quick actions with 4 variants
├── chart-card.tsx           # Chart container
├── empty-state.tsx          # No data placeholder
│
│ # Chart Components (flat)
├── attendance-chart.tsx     # Attendance trends
├── grade-chart.tsx          # Grade distribution
├── revenue-chart.tsx        # Revenue vs expenses
├── performance-gauge.tsx    # Single metric radial
├── weekly-chart.tsx         # Weekly bar chart
├── comparison-chart.tsx     # Period comparison
│
│ # Showcase Components (flat, prefixed)
├── card-*.tsx               # 14 card showcase files
├── chart-*.tsx              # 10 chart showcase files
├── stat-*.tsx               # 17 stat showcase files
├── card-showcase.tsx        # Cards showcase entry
├── chart-showcase.tsx       # Charts showcase entry
├── stat-showcase.tsx        # Stats showcase entry
│
│ # Infrastructure
├── header.tsx               # Dashboard header
├── loading.tsx              # Loading state
├── error-boundary.tsx       # Error handling
├── search-command.tsx       # Search command palette
│
│ # Exception: Settings subdirectory
└── settings/
    ├── content.tsx
    └── user-name-form.tsx
```

## Error Handling

All dashboards implement comprehensive error handling:

```tsx
try {
  const data = await getDashboardData();
  return <DashboardContent data={data} />;
} catch (error) {
  console.error("[Dashboard] Error:", error);
  return <DashboardSectionError title="Unable to Load" message="..." />;
}
```

## Internationalization

Dashboards support Arabic (RTL) and English (LTR):

```tsx
const dashDict = dictionary?.teacherDashboard || {
  stats: { todaysClasses: "Today's Classes", ... },
  sections: { todaysClasses: "Today's Classes", ... },
  labels: { room: "Room", students: "students", ... },
};
```

## Related Documentation

- [Dashboard - Admin](/docs/dashboard-admin) - Admin/Developer dashboard
- [Dashboard - Principal](/docs/dashboard-principal) - Principal dashboard
- [Dashboard - Teacher](/docs/dashboard-teacher) - Teacher dashboard
- [Dashboard - Student](/docs/dashboard-student) - Student dashboard
- [Dashboard - Parent](/docs/dashboard-parent) - Parent/Guardian dashboard
- [Dashboard - Accountant](/docs/dashboard-accountant) - Accountant dashboard
- [Dashboard - Staff](/docs/dashboard-staff) - Staff dashboard
- [Dashboard - Widgets](/docs/dashboard-widgets) - Widget reference
- [Dashboard - Charts](/docs/dashboard-charts) - Chart reference
- [Dashboard - Actions](/docs/dashboard-actions) - Server actions reference
