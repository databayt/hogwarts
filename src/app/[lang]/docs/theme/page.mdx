# Theme System

Customize the visual appearance of your Hogwarts platform with our powerful theme system. Choose from 160+ beautiful presets or create your own custom themes with full control over colors, typography, and spacing.

## üé® Overview

The theme system provides:
- **160+ Preset Themes**: Curated collection of beautiful, professional themes
- **Instant Preview**: See changes in real-time
- **Light & Dark Modes**: Every theme includes both variants
- **Import/Export**: Share themes across schools or save for later
- **Accessibility First**: Automatic WCAG contrast checking
- **Zero Downtime**: Theme switching without page reloads

## Quick Start

### Accessing Theme Settings

Navigate to **Settings ‚Üí Appearance** to access the theme customization panel.

![Theme Settings Location](/docs/images/theme-settings-location.png)

### Applying a Preset Theme

1. Click the **Appearance** tab in Settings
2. Browse the **Presets** section
3. Click any theme card to apply instantly
4. Theme updates across entire platform immediately

That's it! Your new theme is active.

## üéØ Features

### 1. Preset Theme Gallery

Browse and apply from our curated collection:

**Popular Categories:**
- **Neutrals**: Zinc, Slate, Stone, Gray, Neutral
- **Colors**: Red, Orange, Yellow, Green, Blue, Violet
- **Special**: Rose, Pink, Purple variants
- **Seasonal**: Festival themes and special collections

Each preset includes:
- ‚úÖ Light mode variant
- ‚úÖ Dark mode variant
- ‚úÖ WCAG AAA compliant colors
- ‚úÖ Optimized for readability

### 2. Theme Import/Export

**Export Your Theme:**
1. Go to **Appearance ‚Üí Import/Export** tab
2. Click **Export Theme**
3. Save JSON file to your computer

**Import a Theme:**
1. Go to **Appearance ‚Üí Import/Export** tab
2. Click **Choose File**
3. Select theme JSON file
4. Click **Save Imported Theme**

**Use Cases:**
- Share themes with other schools
- Backup custom configurations
- Switch between seasonal themes
- Test themes before going live

### 3. Light & Dark Mode Support

Every theme automatically includes light and dark variants:

**Switching Modes:**
- Click the moon/sun icon in the navigation bar
- Themes adapt instantly
- User preference saved automatically

**How It Works:**
Themes use semantic color tokens that change based on mode:
- `background` ‚Üí White in light mode, dark in dark mode
- `foreground` ‚Üí Black in light mode, white in dark mode
- All other colors adjust proportionally

### 4. Custom Theme Builder (Coming Soon)

Advanced customization features in development:
- Color picker for all elements
- Font family selection
- Border radius controls
- Spacing adjustments
- Real-time preview panel

## üîß Understanding Themes

### Color System

Themes use **OKLCH color space** for:
- **Perceptual uniformity**: Colors look equally different to human eyes
- **Wide gamut**: Access to more vibrant colors
- **Better contrast**: More accurate accessibility calculations

### Semantic Tokens

Instead of hardcoded colors, themes use semantic tokens:

| Token | Purpose | Example |
|-------|---------|---------|
| `background` | Page backgrounds | White/Dark |
| `foreground` | Primary text | Black/White |
| `primary` | CTAs, links | Blue/Brand color |
| `secondary` | Secondary actions | Gray tones |
| `accent` | Highlights | Accent color |
| `destructive` | Errors, warnings | Red tones |
| `muted` | Subtle backgrounds | Light gray |
| `border` | Dividers, borders | Border color |

**Why This Matters:**
Changing a theme updates ALL instances of these tokens across the entire platform instantly.

### Contrast & Accessibility

All preset themes meet **WCAG 2.1 Level AA** standards minimum:

**Contrast Ratios:**
- Normal text: 4.5:1 minimum
- Large text (18pt+): 3:1 minimum
- AAA Level: 7:1 for normal text

The system automatically validates contrast when:
- Applying preset themes
- Importing custom themes
- Switching light/dark modes

## üìã Best Practices

### 1. Test Before Going Live

**Recommendation**: Test new themes in a staging environment first.

**Quick Test:**
1. Apply theme in Settings
2. Visit key pages: Dashboard, Reports, Forms
3. Test both light and dark modes
4. Check on mobile devices
5. Verify readability in all sections

### 2. Consider Your Brand

**Match Your School Colors:**
1. Find preset closest to your brand
2. Export it as starting point
3. Customize colors (when custom builder launches)
4. Import and activate

**Brand Color Tips:**
- Use brand color for `primary` token
- Keep `background` and `foreground` neutral
- Use brand accent for `accent` token
- Ensure sufficient contrast with brand colors

### 3. Seasonal Themes

**Use Case**: Switch themes for events or seasons.

**Example Workflow:**
1. Export current theme (backup)
2. Apply seasonal theme
3. After event, import backup theme

### 4. School-Wide Consistency

**For Multi-User Schools:**
- Theme applies per-user by default
- Admins can set school-wide default
- Users can override with personal preference

## üöÄ Advanced Usage

### Creating Custom Themes (Manual)

Until the custom builder launches, you can create themes manually:

**Step 1**: Export any preset theme
**Step 2**: Edit JSON file:

```json
{
  "version": "1.0",
  "name": "My Custom Theme",
  "styles": {
    "light": {
      "background": "oklch(1 0 0)",
      "foreground": "oklch(0.2 0 0)",
      "primary": "oklch(0.5 0.25 264)",
      "secondary": "oklch(0.97 0.005 264)",
      "accent": "oklch(0.92 0.08 264)",
      "muted": "oklch(0.97 0 0)",
      "border": "oklch(0.922 0 0)",
      "destructive": "oklch(0.577 0.245 27.325)"
    },
    "dark": {
      "background": "oklch(0.15 0 0)",
      "foreground": "oklch(0.95 0 0)",
      "primary": "oklch(0.75 0.15 264)",
      "secondary": "oklch(0.27 0 0)",
      "accent": "oklch(0.37 0.05 264)",
      "muted": "oklch(0.27 0 0)",
      "border": "oklch(0.28 0 0)",
      "destructive": "oklch(0.704 0.191 22.216)"
    }
  }
}
```

**Step 3**: Import through Settings ‚Üí Appearance ‚Üí Import/Export

**OKLCH Format**: `oklch(Lightness Chroma Hue)`
- **L**: 0 (black) to 1 (white)
- **C**: 0 (gray) to 0.4 (vivid)
- **H**: 0-360 (hue angle)

### Sharing Themes with Community

**Export ‚Üí Share ‚Üí Import:**
1. Create and export your theme
2. Share JSON file (email, GitHub, etc.)
3. Others import through Settings

**Theme Showcase** (Coming Soon):
- Submit themes to community gallery
- Browse themes from other schools
- One-click install popular themes

## üîç Troubleshooting

### Theme Not Applying

**Symptoms**: Click theme but nothing changes

**Solutions:**
1. **Hard Refresh**: Press `Ctrl+Shift+R` (or `Cmd+Shift+R` on Mac)
2. **Clear Cache**: Settings ‚Üí Advanced ‚Üí Clear Cache
3. **Check Browser**: Ensure modern browser (Chrome 111+, Firefox 113+, Safari 15.4+)

### Colors Look Washed Out

**Cause**: Monitor color calibration or browser settings

**Solutions:**
1. Try different preset theme
2. Adjust monitor brightness/contrast
3. Test on different device

### Import Fails

**Common Issues:**
- **Invalid JSON**: Use JSON validator before importing
- **Missing Fields**: Ensure both `light` and `dark` styles included
- **Wrong Format**: File must be `.json` format

**Fix**: Export a working theme first, use as template

### Theme Resets After Reload

**Cause**: Browser localStorage disabled (private browsing)

**Solutions:**
1. Disable private/incognito mode
2. Check browser privacy settings
3. Contact IT if school network blocks localStorage

## üì± Mobile Experience

Themes work identically on mobile devices:
- Same preset collection
- Instant switching
- Light/dark mode toggle
- Saved preferences sync

**Mobile Tips:**
- Test themes on actual devices
- Check readability in bright sunlight
- Verify contrast on small screens

## üåç Internationalization

Theme system supports all platform languages:

**RTL Languages (Arabic):**
- Themes automatically adapt layout direction
- Colors remain consistent
- Icons mirror appropriately

**Theme Names:**
- Displayed in UI language
- Color names universal
- Semantic tokens language-agnostic

## üéì Educational Use Cases

### 1. Elementary Schools
**Recommendation**: Bright, colorful themes
- Orange
- Yellow
- Violet
- Green

### 2. Middle/High Schools
**Recommendation**: Professional, modern themes
- Blue
- Zinc
- Slate
- Neutral

### 3. Universities
**Recommendation**: Sophisticated, branded themes
- Use institutional colors
- Custom themes for departments
- Seasonal themes for events

### 4. Training Centers
**Recommendation**: High-contrast themes
- Optimized for projectors
- Excellent readability
- Bold primary colors

## üìä Performance

### Theme Switching Speed

**Target**: < 100ms
**Typical**: ~50ms
**Method**: CSS variable updates only (no page reload)

### Impact on Page Load

**Initial Load**: +15KB JavaScript
**Settings Page**: +45KB (presets lazy-loaded)
**Runtime**: Near-zero impact

## üîê Privacy & Security

### Data Storage

**Client-Side (localStorage):**
- Current theme preference
- No personal data
- Cleared with browser cache

**Server-Side (Database):**
- Saved custom themes (optional)
- Associated with user account
- Deleted with account deletion

### Theme Security

**Import Safety:**
- Themes are pure data (JSON)
- No executable code
- Validated on import
- Cannot access user data

## üÜò Support

### Need Help?

1. **Check Documentation**: [Technical Docs](/docs/theme/technical)
2. **Known Issues**: [Issue Tracker](/docs/theme/issues)
3. **Contact Support**: Settings ‚Üí Support ‚Üí Submit Ticket

### Feature Requests

Have ideas for theme features? Submit via:
- Settings ‚Üí Support ‚Üí Feature Request
- GitHub Issues (if open-source)
- School administrator

## üéâ What's Next?

### Upcoming Features (v2.1)

**Custom Theme Builder:**
- Visual color picker
- Real-time preview
- Font selection
- Border radius controls
- Export/share instantly

**Theme Marketplace:**
- Browse community themes
- One-click install
- Rate and review
- Designer submissions

**Advanced Controls:**
- Hue rotation for entire theme
- Saturation/brightness sliders
- Contrast boost modes
- Animation preferences

**AI Theme Generation:**
- Upload school logo ‚Üí Generate theme
- Describe desired mood ‚Üí Get suggestions
- Brand color ‚Üí Complete palette

## üìö Related Documentation

- [Technical Documentation](/docs/theme/technical) - For developers
- [Troubleshooting Guide](/docs/theme/issues) - Common problems
- [Typography System](/docs/typography) - Text styling
- [Brand Guidelines](/docs/brand-guidelines) - School branding

---

## Quick Reference Card

```
üìç Location: Settings ‚Üí Appearance

üé® Presets: 160+ ready-to-use themes
üíæ Import/Export: Share and backup themes
üåó Modes: Light & Dark included
‚ôø Accessible: WCAG 2.1 Level AA minimum
‚ö° Fast: < 100ms switching
üì± Mobile: Full support
üåç i18n: Works in all languages
```

---

**Last Updated**: 2025-10-27
**Version**: 2.0

Need more help? Visit our [Support Center](/support) or contact your school administrator.
