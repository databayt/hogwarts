# Claude Code Plugins

Package and share complete Claude Code configurations including commands, agents, skills, MCP servers, and hooks through the plugin system.

## What Are Plugins?

Plugins are distributable bundles that can include any combination of:

- **Slash Commands** (`.claude/commands/`)
- **Subagents** (`.claude/agents/`)
- **Agent Skills** (`.claude/skills/`)
- **MCP Server Configurations** (MCP connections)
- **Hooks** (Automation workflows)
- **Documentation** (Project guides, best practices)

Think of plugins as **npm packages for Claude Code** - installable, shareable, versionable configurations.

## Why Use Plugins?

### For Users
- **Quick Setup**: Install complete workflows instantly
- **Best Practices**: Leverage community expertise
- **Consistency**: Same tools across team/projects
- **Updates**: Get improvements via plugin updates

### For Creators
- **Share Knowledge**: Package your workflows
- **Build Libraries**: Create reusable components
- **Monetize**: Offer premium plugins (future)
- **Contribute**: Give back to community

## Plugin Structure

A typical plugin directory:

```
my-claude-plugin/
  package.json           # Plugin metadata
  README.md             # Usage documentation
  .claude/
    commands/           # Slash commands
      review.md
      deploy.md
      test.md
    agents/            # Subagents
      code-reviewer.md
      test-writer.md
    skills/            # Agent skills
      react-optimizer/
        SKILL.md
      sql-optimizer/
        SKILL.md
    settings.json      # Default configurations
  docs/               # Additional documentation
    setup.md
    examples.md
```

## Installing Plugins

### Method 1: Interactive Install

```bash
claude /plugin install
```

Shows a list of available plugins from the registry.

### Method 2: By Name

```bash
claude /plugin install @claude-code/react-dev
```

Installs a specific plugin from the registry.

### Method 3: From Git

```bash
claude /plugin install https://github.com/user/claude-plugin.git
```

Installs directly from a Git repository.

### Method 4: From Local Path

```bash
claude /plugin install ./path/to/plugin
```

Useful for developing and testing plugins.

### Method 5: From npm

```bash
claude /plugin install npm:@company/claude-plugin
```

Installs plugin published to npm registry.

## Official Plugins

### @claude-code/web-dev

Full-stack web development workflow:

```bash
claude /plugin install @claude-code/web-dev
```

**Includes**:
- Component generators
- API endpoint scaffolding
- Test automation
- Build optimization
- Deployment workflows

**Commands**:
- `/component <name>` - Generate React component
- `/api <method> <path>` - Create API endpoint
- `/deploy <env>` - Deploy to environment

### @claude-code/react-dev

React-specific development tools:

```bash
claude /plugin install @claude-code/react-dev
```

**Includes**:
- React component best practices
- Performance optimization agent
- Hook usage analyzer
- Accessibility checker

**Skills**:
- React Performance Optimizer
- Component Architecture Validator
- Accessibility Auditor

### @claude-code/database-tools

Database management and optimization:

```bash
claude /plugin install @claude-code/database-tools
```

**Includes**:
- SQL optimization agent
- Migration generator
- Query analyzer
- Database seeding tools

**MCP Servers**:
- PostgreSQL
- MySQL
- SQLite

### @claude-code/testing-suite

Comprehensive testing toolkit:

```bash
claude /plugin install @claude-code/testing-suite
```

**Includes**:
- Test generator agent
- Coverage analyzer
- E2E test scaffolding
- Performance testing

**Commands**:
- `/test/unit` - Generate unit tests
- `/test/e2e` - Create E2E tests
- `/test/coverage` - Analyze coverage

### @claude-code/devops

DevOps and CI/CD workflows:

```bash
claude /plugin install @claude-code/devops
```

**Includes**:
- Deployment automation
- CI/CD pipeline generators
- Docker configuration
- Kubernetes helpers

**Commands**:
- `/docker/init` - Create Dockerfile
- `/k8s/deploy` - Deploy to Kubernetes
- `/ci/setup` - Setup CI pipeline

## Plugin Use Cases

### Team Onboarding

Create a plugin for new team members:

```
company-onboarding-plugin/
  .claude/
    commands/
      setup-dev-env.md
      run-tests.md
      deploy-staging.md
    agents/
      code-reviewer.md   # Team's review standards
    settings.json        # Pre-approved permissions
  README.md             # Team guide
```

Install on first day:
```bash
claude /plugin install @company/onboarding
```

### Framework Boilerplates

Next.js development plugin:

```
nextjs-plugin/
  .claude/
    commands/
      page.md           # Generate Next.js page
      api-route.md      # Create API route
      component.md      # Create component
    agents/
      nextjs-expert.md  # Next.js specialist
    skills/
      nextjs-optimizer/
        SKILL.md
```

### Language-Specific Tools

Python development plugin:

```
python-dev-plugin/
  .claude/
    commands/
      venv.md           # Virtual environment setup
      test.md           # Run pytest
      lint.md           # Run flake8/black
    agents/
      python-reviewer.md
    skills/
      python-optimizer/
```

### Security Audit Suite

Security-focused plugin:

```
security-audit-plugin/
  .claude/
    agents/
      security-auditor.md
      dependency-checker.md
    commands/
      audit.md
      check-secrets.md
    hooks/              # Auto-security checks
```

## Creating Plugins

### 1. Initialize Plugin

```bash
mkdir my-plugin
cd my-plugin
claude /plugin init
```

Creates basic plugin structure.

### 2. Add Components

Add commands, agents, skills:

```bash
# Add command
mkdir -p .claude/commands
cat > .claude/commands/my-command.md << 'EOF'
---
description: My custom command
---

Do something useful...
EOF

# Add agent
mkdir -p .claude/agents
cat > .claude/agents/my-agent.md << 'EOF'
---
name: My Agent
description: Specialized agent
---

You are a specialist in...
EOF
```

### 3. Create package.json

```json
{
  "name": "@myorg/my-claude-plugin",
  "version": "1.0.0",
  "description": "My custom Claude Code plugin",
  "keywords": ["claude-code", "plugin", "development"],
  "claudeCode": {
    "type": "plugin",
    "compatibility": ">=1.0.0"
  },
  "files": [
    ".claude/**/*",
    "README.md"
  ],
  "author": "Your Name",
  "license": "MIT"
}
```

### 4. Document Plugin

Create comprehensive README.md:

```markdown
# My Claude Plugin

Brief description of what this plugin does.

## Installation

\`\`\`bash
claude /plugin install @myorg/my-claude-plugin
\`\`\`

## Features

- Feature 1
- Feature 2
- Feature 3

## Commands

- \`/command1\` - Description
- \`/command2\` - Description

## Agents

- **Agent1** - Description
- **Agent2** - Description

## Configuration

Any required environment variables or setup steps.

## Usage Examples

Show common use cases.
```

### 5. Test Plugin

```bash
# Test locally
claude /plugin install ./

# Test commands
/your-command arg1 arg2

# Test agents
/agents/your-agent
```

### 6. Publish Plugin

#### To npm:

```bash
npm publish
```

#### To Git:

```bash
git init
git add .
git commit -m "Initial plugin version"
git tag v1.0.0
git push origin main --tags
```

#### To Claude Plugin Registry:

```bash
claude /plugin publish
```

## Plugin Configuration

### Default Settings

Include default settings in `.claude/settings.json`:

```json
{
  "allowedTools": [
    "Read",
    "Grep",
    "Glob",
    "Edit",
    "Write",
    "Bash(git:*)",
    "Bash(npm:*)"
  ],
  "mcp": {
    "servers": {
      "github": {
        "transport": "http",
        "url": "https://mcp.github.com",
        "headers": {
          "Authorization": "token ${GITHUB_TOKEN}"
        }
      }
    }
  }
}
```

**Note**: User can override these settings.

### Environment Variables

Document required environment variables:

```markdown
## Required Environment Variables

\`\`\`bash
export GITHUB_TOKEN=your-token-here
export DATABASE_URL=postgresql://localhost/mydb
\`\`\`

Add these to your \`.env\` file or shell profile.
```

### Post-Install Setup

Include setup instructions in README:

```markdown
## Post-Installation Setup

1. Set required environment variables
2. Run \`/setup-plugin\` command
3. Verify with \`/plugin-check\`
```

Create a setup command:

```markdown
---
description: Setup plugin configuration
---

Setting up plugin...

!echo "Running post-install setup..."

Checking environment variables...
- GITHUB_TOKEN: ${GITHUB_TOKEN:+✓ Set}
- DATABASE_URL: ${DATABASE_URL:+✓ Set}

Plugin ready to use!
```

## Managing Plugins

### List Installed Plugins

```bash
claude /plugin list
```

Shows all installed plugins with versions.

### Update Plugin

```bash
claude /plugin update @myorg/my-plugin
```

Updates to latest version.

### Update All Plugins

```bash
claude /plugin update --all
```

### Remove Plugin

```bash
claude /plugin remove @myorg/my-plugin
```

### Plugin Information

```bash
claude /plugin info @myorg/my-plugin
```

Shows plugin details, version, description.

### Search Plugins

```bash
claude /plugin search react
```

Searches plugin registry for keywords.

## Plugin Best Practices

### Clear Naming

Use descriptive, scoped names:

✅ **Good**:
- `@claude-code/react-dev`
- `@mycompany/internal-workflows`
- `@myname/python-tools`

❌ **Bad**:
- `plugin`
- `my-thing`
- `stuff`

### Semantic Versioning

Follow semver (major.minor.patch):

- **Major**: Breaking changes
- **Minor**: New features (backward compatible)
- **Patch**: Bug fixes

```json
{
  "version": "1.2.3"
}
```

### Comprehensive Documentation

Include:
- Installation instructions
- Required setup
- All commands/agents/skills
- Usage examples
- Troubleshooting

### Test Before Publishing

```bash
# Install locally
claude /plugin install ./

# Test all commands
/command1
/command2

# Test all agents
/agents/agent1

# Verify hooks work
```

### Include Examples

Provide practical examples:

```markdown
## Usage Examples

### Create React Component

\`\`\`bash
/component UserProfile
\`\`\`

Creates:
- \`UserProfile/index.tsx\`
- \`UserProfile/types.ts\`
- \`UserProfile/UserProfile.test.tsx\`

### Deploy to Staging

\`\`\`bash
/deploy staging
\`\`\`

Runs pre-flight checks and deploys.
```

### Version Compatibility

Specify Claude Code version requirements:

```json
{
  "claudeCode": {
    "compatibility": ">=1.2.0"
  }
}
```

### License Clearly

Include LICENSE file:

```
MIT License

Copyright (c) 2025 Your Name

Permission is hereby granted...
```

## Plugin Marketplace

### Discovering Plugins

Browse the official marketplace:

```bash
claude /plugin browse
```

Categories:
- Web Development
- Mobile Development
- DevOps
- Testing
- Security
- Documentation
- Data Science
- Design

### Rating Plugins

```bash
claude /plugin rate @myorg/plugin 5
```

Leave reviews to help others.

### Reporting Issues

```bash
claude /plugin report @myorg/plugin "Issue description"
```

## Advanced Plugin Features

### Dynamic Configuration

Plugins can detect project context:

```markdown
---
description: Smart component generator
---

Detecting project framework...

!cat package.json

Based on dependencies:
- React detected: Creating React component
- Vue detected: Creating Vue component
- Svelte detected: Creating Svelte component
```

### Plugin Dependencies

Require other plugins:

```json
{
  "claudeCode": {
    "dependencies": {
      "@claude-code/testing-suite": "^1.0.0"
    }
  }
}
```

Installed automatically when plugin is installed.

### Plugin Hooks

Plugins can include hooks that run automatically:

```json
{
  "hooks": {
    "PostToolUse": {
      "matchers": [
        {
          "tool": "Write",
          "pattern": ".*\\.tsx$",
          "action": "/commands/format-component"
        }
      ]
    }
  }
}
```

### Conditional Loading

Load plugin components based on conditions:

```markdown
# In agent definition
!test -f tsconfig.json

If TypeScript project:
- Load TypeScript-specific skills
- Use stricter type checking
- Enable TS linting
```

## Enterprise Plugins

### Private Plugin Registry

Host internal plugins:

```bash
# Configure registry
claude config set registry https://plugins.company.com

# Install from private registry
claude /plugin install @company/internal-tools
```

### Access Control

Restrict plugin access:

```json
{
  "claudeCode": {
    "access": {
      "allowedDomains": ["@company.com"],
      "requiresAuth": true
    }
  }
}
```

### Audit Logging

Track plugin usage:

```json
{
  "plugins": {
    "audit": {
      "enabled": true,
      "file": ".claude/plugin-audit.log"
    }
  }
}
```

## Troubleshooting

### Plugin Not Found

```
Error: Plugin '@myorg/plugin' not found
```

**Fix**: Check plugin name spelling, verify registry access

### Installation Failed

```
Error: Failed to install plugin
```

**Fix**:
1. Check network connection
2. Verify permissions
3. Check Claude Code version compatibility

### Plugin Conflicts

```
Error: Conflict with existing command '/deploy'
```

**Fix**: Uninstall conflicting plugin or use namespaced commands

### Plugin Not Loading

```
Error: Plugin loaded but commands not available
```

**Fix**:
1. Restart Claude session
2. Verify plugin structure
3. Check for errors in plugin files

## Getting Started

Create your first plugin in 5 minutes:

```bash
# 1. Initialize
mkdir my-first-plugin
cd my-first-plugin
claude /plugin init

# 2. Add a simple command
mkdir -p .claude/commands
echo "---
description: Hello World command
---

Hello from my first plugin!" > .claude/commands/hello.md

# 3. Test locally
claude /plugin install ./
/hello

# 4. Success!
```

## Next Steps

- [Slash Commands](/docs/claude-code-slash-commands) - Create commands for plugins
- [Subagents](/docs/claude-code-subagents) - Build agents for plugins
- [Skills](/docs/claude-code-skills) - Package skills in plugins
- [MCP](/docs/claude-code-mcp) - Include MCP servers in plugins

## Resources

- **Plugin Template**: Official starter template
- **Plugin Registry**: Browse available plugins
- **Publishing Guide**: Detailed publication steps
- **Best Practices**: Plugin development patterns

---

*Plugins make Claude Code configurations shareable, discoverable, and reusable. Start with using plugins, then create your own to share with the community.*
