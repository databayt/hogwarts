export const metadata = {
  title: 'UI Factory - Hogwarts',
  description: 'AI-powered component generation system following shadcn/ui patterns with zero-tolerance quality enforcement',
}

# UI Factory System

**AI-Powered Component Generation** following shadcn/ui patterns with full automation and zero-tolerance quality enforcement.

---

## Overview

The UI Factory is a comprehensive automation system for generating, validating, and maintaining UI components that follow shadcn/ui architecture and best practices.

### Philosophy

**Zero Tolerance for Quality Violations**

Every component must pass **all 7 quality gates** before deployment:

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-4 border rounded-lg">
    <h5 className="mb-2">1. Semantic Tokens</h5>
    <p className="muted text-sm">
      95%+ adoption - No hardcoded colors. All components use semantic tokens (bg-background, bg-primary) for automatic theme switching.
    </p>
  </div>
  <div className="p-4 border rounded-lg">
    <h5 className="mb-2">2. Semantic HTML</h5>
    <p className="muted text-sm">
      100% compliance - No typography utilities on divs. Use h1-h6, p, small for proper structure and accessibility.
    </p>
  </div>
  <div className="p-4 border rounded-lg">
    <h5 className="mb-2">3. Accessibility</h5>
    <p className="muted text-sm">
      WCAG 2.1 AA - Full compliance with ARIA labels, keyboard navigation, 44x44px touch targets, and proper focus management.
    </p>
  </div>
  <div className="p-4 border rounded-lg">
    <h5 className="mb-2">4. Internationalization</h5>
    <p className="muted text-sm">
      100% i18n support - No hardcoded strings. Dictionary-based translations with RTL/LTR support for Arabic and English.
    </p>
  </div>
  <div className="p-4 border rounded-lg">
    <h5 className="mb-2">5. TypeScript</h5>
    <p className="muted text-sm">
      Strict mode - Complete type safety with no 'any' types, proper interfaces, and comprehensive type coverage.
    </p>
  </div>
  <div className="p-4 border rounded-lg">
    <h5 className="mb-2">6. Testing</h5>
    <p className="muted text-sm">
      95%+ coverage - Comprehensive Vitest tests covering rendering, interactions, accessibility, and edge cases.
    </p>
  </div>
  <div className="p-4 border rounded-lg">
    <h5 className="mb-2">7. Documentation</h5>
    <p className="muted text-sm">
      Complete docs - JSDoc comments with examples, usage patterns, and component API documentation.
    </p>
  </div>
</div>

> **Critical:** A single violation = component fails validation. No exceptions.

---

## Quick Start

```bash
# Add component from shadcn registry
/ui-add button

# Generate custom component with AI
/ui-generate "pricing card with three tiers and monthly/yearly toggle"

# Validate component quality
/ui-validate src/components/ui/button.tsx

# Copy shadcn showcase components
/ui-copy-showcase
```

---

## Interactive Mode â­ NEW

The UI Factory now supports **flowchart-driven interactive mode** for systematic, step-by-step component generation with enforced quality gates.

### What is Interactive Mode?

Interactive mode guides you through component creation with:
- ğŸ“‹ Step-by-step prompts and validation
- ğŸš« Blocking gates that prevent proceeding until standards are met
- âœ… TDD enforcement (tests generated BEFORE code)
- ğŸ¯ 99-100/100 quality scores (vs 85-95/100 standard mode)
- ğŸ”§ Comprehensive auto-fix (3 attempts, 60-95% success rate)

### When to Use Interactive Mode

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-6">
  <div className="p-4 border border-green-500/50 rounded-lg bg-green-500/5">
    <h5 className="mb-2">âœ… Use Interactive Mode When:</h5>
    <ul className="text-sm space-y-1 muted">
      <li>â€¢ Creating components for the first time</li>
      <li>â€¢ Need guided step-by-step workflow</li>
      <li>â€¢ Want zero quality violations guaranteed</li>
      <li>â€¢ Learning component generation best practices</li>
      <li>â€¢ Complex components with multiple requirements</li>
      <li>â€¢ Enforcing TDD (tests before code)</li>
    </ul>
  </div>
  <div className="p-4 border border-blue-500/50 rounded-lg bg-blue-500/5">
    <h5 className="mb-2">ğŸ’¨ Use Standard Mode When:</h5>
    <ul className="text-sm space-y-1 muted">
      <li>â€¢ Quick, simple components</li>
      <li>â€¢ Experienced with quality standards</li>
      <li>â€¢ Will validate manually later</li>
      <li>â€¢ Time-sensitive prototyping</li>
      <li>â€¢ Familiar with the workflow</li>
    </ul>
  </div>
</div>

### Usage

```bash
# Start interactive wizard
/ui-interactive

# Or use flag with /ui-generate
/ui-generate --interactive
/ui-generate -i

# With initial context
/ui-generate -i "multi-step form with validation"
```

### The 11-Step Flowchart

<div className="my-6 p-4 border rounded-lg bg-muted/30">
  <div className="space-y-3 text-sm">
    <div className="flex items-start gap-3">
      <span className="font-mono bg-primary text-primary-foreground px-2 py-1 rounded">1</span>
      <div>
        <strong>Component Type Selection</strong>
        <p className="muted text-xs mt-1">Choose: UI Primitive, Atom/Composite, Feature Component, or Page</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-primary text-primary-foreground px-2 py-1 rounded">2</span>
      <div>
        <strong>Name/Route Validation</strong>
        <p className="muted text-xs mt-1">Validates PascalCase, uniqueness, no conflicts</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-muted text-foreground px-2 py-1 rounded">3</span>
      <div>
        <strong>Requirements Selection</strong>
        <p className="muted text-xs mt-1">Optional: Form validation, server actions, data table, etc.</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-muted text-foreground px-2 py-1 rounded">4</span>
      <div>
        <strong>Radix Primitive Selection</strong>
        <p className="muted text-xs mt-1">Optional: Dialog, dropdown, tooltip, tabs, etc.</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-destructive text-destructive-foreground px-2 py-1 rounded">5</span>
      <div>
        <strong>Accessibility Checklist âš ï¸ BLOCKING</strong>
        <p className="muted text-xs mt-1">ALL 6 WCAG 2.1 AA requirements must be confirmed</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-destructive text-destructive-foreground px-2 py-1 rounded">6</span>
      <div>
        <strong>i18n Setup âš ï¸ BLOCKING</strong>
        <p className="muted text-xs mt-1">Dictionary keys validated against dictionaries.ts</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-chart-2 text-white px-2 py-1 rounded">7</span>
      <div>
        <strong>Test Generation (AUTO - TDD)</strong>
        <p className="muted text-xs mt-1">Tests generated BEFORE implementation - 95%+ coverage</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-chart-2 text-white px-2 py-1 rounded">8</span>
      <div>
        <strong>Implementation (AUTO)</strong>
        <p className="muted text-xs mt-1">6-agent sequence: shadcn â†’ react â†’ typescript â†’ tailwind â†’ i18n â†’ ui-factory</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-destructive text-destructive-foreground px-2 py-1 rounded">9</span>
      <div>
        <strong>Quality Gates âš ï¸ BLOCKING</strong>
        <p className="muted text-xs mt-1">All 7 gates must pass - auto-fix available</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-chart-2 text-white px-2 py-1 rounded">10</span>
      <div>
        <strong>Git Commit (AUTO)</strong>
        <p className="muted text-xs mt-1">Conventional commit with quality report</p>
      </div>
    </div>
    <div className="flex items-start gap-3">
      <span className="font-mono bg-chart-2 text-white px-2 py-1 rounded">11</span>
      <div>
        <strong>Completion Summary</strong>
        <p className="muted text-xs mt-1">Files created, quality score, next steps</p>
      </div>
    </div>
  </div>
</div>

### Blocking Gates Explained

Interactive mode has **3 blocking gates** that prevent progression until requirements are met:

<div className="space-y-4 my-6">
  <div className="p-4 border border-destructive/50 rounded-lg bg-destructive/5">
    <h6 className="mb-2">ğŸš« Gate 1: Accessibility (Step 5)</h6>
    <p className="text-sm mb-2">ALL 6 WCAG 2.1 AA requirements must be confirmed:</p>
    <ul className="text-xs space-y-1 muted ms-4">
      <li>â˜‘ ARIA labels defined</li>
      <li>â˜‘ Keyboard navigation (Enter, Space, Arrows, Escape, Tab)</li>
      <li>â˜‘ Focus management and focus trap</li>
      <li>â˜‘ Color contrast â‰¥4.5:1 (text) and â‰¥3:1 (UI)</li>
      <li>â˜‘ Touch targets â‰¥44x44px</li>
      <li>â˜‘ Screen reader compatible</li>
    </ul>
    <p className="text-xs mt-2 muted">âš ï¸ Cannot proceed if ANY item is unchecked. This is non-negotiable.</p>
  </div>

  <div className="p-4 border border-destructive/50 rounded-lg bg-destructive/5">
    <h6 className="mb-2">ğŸš« Gate 2: i18n (Step 6)</h6>
    <p className="text-sm mb-2">Dictionary keys must exist in dictionaries.ts</p>
    <p className="text-xs muted">Example: <code className="text-xs">ui.save,ui.cancel,forms.submit</code></p>
    <p className="text-xs mt-2 muted">âš ï¸ Cannot use non-existent keys. Add them to dictionaries.ts first or use existing keys.</p>
  </div>

  <div className="p-4 border border-destructive/50 rounded-lg bg-destructive/5">
    <h6 className="mb-2">ğŸš« Gate 3: Quality Validation (Step 9)</h6>
    <p className="text-sm mb-2">All 7 quality gates must pass (auto-fix available)</p>
    <p className="text-xs muted">Critical/High violations block commit. Auto-fix attempts: 3 max with 60-95% success rate.</p>
    <p className="text-xs mt-2 muted">âš ï¸ Cannot commit component with critical or high severity violations.</p>
  </div>
</div>

### Mode Comparison

| Aspect | Standard Mode | Interactive Mode |
|--------|--------------|------------------|
| **Speed** | 1-2 minutes | 3-5 minutes |
| **Guidance** | None | Step-by-step wizard |
| **Validation** | Post-generation | At each step (blocking) |
| **TDD** | Optional | **Enforced** (tests first) |
| **Quality Score** | 85-95/100 | **99-100/100** |
| **Auto-Fix** | Limited | **Comprehensive** (3 attempts) |
| **Learning Curve** | Steep | **Guided with help** |
| **Best For** | Quick prototypes | **Production components** |

### Example: Create Multi-Step Form

```bash
/ui-interactive

# Step 1: Component Type
? What type of component?
  â†’ [3] Feature Component

# Step 2: Component Name
? Enter name (PascalCase):
  â†’ MultiStepForm
  âœ“ Valid (unique, PascalCase, 3-50 chars)

# Step 3: Requirements
? Select requirements:
  â˜‘ Form Validation (Zod)
  â˜‘ Server Actions
  â˜‘ Multi-step Navigation

# Step 4: Radix Primitives
? Select primitives:
  â˜‘ Dialog

# Step 5: Accessibility (BLOCKING)
? Confirm ALL 6 requirements:
  â˜‘ ARIA labels
  â˜‘ Keyboard navigation
  â˜‘ Focus management
  â˜‘ Color contrast â‰¥4.5:1
  â˜‘ Touch targets â‰¥44px
  â˜‘ Screen reader compatible
  âœ“ All confirmed â†’ Proceed

# Step 6: i18n (BLOCKING)
? Dictionary keys (comma-separated):
  â†’ forms.stepNext,forms.stepPrev,forms.submit,ui.cancel
  âœ“ All keys validated â†’ Proceed

# Step 7-11: AUTO
ğŸ”¨ Generating tests... âœ“ 97% coverage
ğŸ”¨ Generating component... âœ“ Complete
ğŸ” Validating... âœ“ 99/100 PASS
ğŸ“ Committing... âœ“ abc123d

âœ… Component ready!
   src/components/platform/multi-step-form/
   Quality Score: 99/100
   Coverage: 97%
```

---

## Commands

### `/ui-interactive` - Interactive Wizard â­ NEW

Step-by-step component generation with enforced quality gates.

```bash
# Start wizard
/ui-interactive

# Alternative aliases
/ui-wizard
```

**Features:**
- 11-step guided workflow
- 3 blocking gates (accessibility, i18n, quality)
- TDD enforced (tests before code)
- Auto-fix for common violations (60-95% success)
- 99-100/100 quality scores

**Documentation:** See [Interactive Mode](#interactive-mode-new) section above.

---

### `/ui-add` - Add from Registry

Add components from the official shadcn/ui registry.

```bash
# Single component
/ui-add button

# Multiple components
/ui-add button card input form

# With overwrite
/ui-add dialog --overwrite
```

**Process:**
1. Fetches component from registry
2. Installs to `src/components/ui/`
3. Installs required dependencies
4. Validates quality (semantic tokens, accessibility)
5. Reports status

---

### `/ui-generate` - AI-Powered Generation

Generate custom components with AI following shadcn/ui patterns.

```bash
# Simple component
/ui-generate "create a loading spinner"

# Complex form
/ui-generate "multi-step form with progress indicator and validation"

# Data display
/ui-generate "pricing card with three tiers, monthly/yearly toggle, and feature comparison"

# Interactive
/ui-generate "file upload with drag-and-drop, progress bars, and preview"
```

**What it generates:**
- Component implementation with semantic tokens
- TypeScript types (strict mode)
- Unit tests (95%+ coverage)
- JSDoc documentation
- Full accessibility support
- Internationalization ready

**Output structure:**
```
src/components/[category]/[component-name]/
â”œâ”€â”€ index.ts              # Barrel export
â”œâ”€â”€ [component-name].tsx  # Component implementation
â”œâ”€â”€ [component-name].test.tsx  # Vitest tests
â”œâ”€â”€ types.ts              # TypeScript interfaces
â””â”€â”€ README.md             # Usage documentation
```

---

### `/ui-validate` - Quality Validation

Validate UI components against quality standards.

```bash
# Validate all components
/ui-validate

# Validate specific file
/ui-validate src/components/ui/button.tsx

# Validate directory
/ui-validate src/components/ui/

# Validate pattern
/ui-validate src/components/atom/**/*.tsx

# Validate with auto-fix
/ui-validate src/components/ui/button.tsx --fix
```

**Quality Gates:**

<div className="space-y-2 my-4">
  <div className="p-3 border rounded">
    <strong>Gate 1: Semantic Tokens</strong>
    <p className="muted text-sm mt-1">Detects hardcoded colors (bg-white, dark:*, bg-gray-*) and suggests semantic tokens</p>
  </div>
  <div className="p-3 border rounded">
    <strong>Gate 2: Semantic HTML</strong>
    <p className="muted text-sm mt-1">Detects typography utilities on divs and suggests proper HTML elements</p>
  </div>
  <div className="p-3 border rounded">
    <strong>Gate 3: Accessibility</strong>
    <p className="muted text-sm mt-1">Checks ARIA attributes, keyboard navigation, and WCAG 2.1 AA compliance</p>
  </div>
  <div className="p-3 border rounded">
    <strong>Gate 4: Internationalization</strong>
    <p className="muted text-sm mt-1">Detects hardcoded strings and suggests dictionary usage</p>
  </div>
  <div className="p-3 border rounded">
    <strong>Gate 5: TypeScript</strong>
    <p className="muted text-sm mt-1">Validates strict mode compliance and type safety</p>
  </div>
  <div className="p-3 border rounded">
    <strong>Gate 6: Testing</strong>
    <p className="muted text-sm mt-1">Checks test coverage â‰¥ 95% across all categories</p>
  </div>
  <div className="p-3 border rounded">
    <strong>Gate 7: Documentation</strong>
    <p className="muted text-sm mt-1">Verifies JSDoc completeness and examples</p>
  </div>
</div>

---

### `/ui-copy-showcase` - Copy shadcn Showcase

Copy 20+ showcase components from shadcn/ui v4 repository.

```bash
/ui-copy-showcase
```

**Components included:**

| Category | Components | Count |
|----------|-----------|-------|
| **Form Components** | field-demo, field-checkbox, field-choice-card, field-slider, notion-prompt-form | 5 |
| **Input Groups** | input-group-demo, input-group-button, input-group-textarea, button-group-demo, button-group-popover | 5 |
| **Display** | item-demo, item-avatar, empty-avatar-group, empty-input-group | 4 |
| **Feedback** | spinner-badge, spinner-empty | 2 |
| **Settings** | appearance-settings | 1 |

**Output location:** `src/components/atom/lab/`

---

## Quality Standards

### Semantic Tokens

**Requirement:** 95%+ adoption, no hardcoded colors

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-4">
  <div>
    <h6 className="mb-2">âŒ Bad (Violations)</h6>
    ```tsx
    bg-white
    bg-gray-50
    text-black
    dark:bg-gray-900
    bg-blue-500
    ```
  </div>
  <div>
    <h6 className="mb-2">âœ… Good (Correct)</h6>
    ```tsx
    bg-background
    bg-muted
    text-foreground
    bg-card
    bg-primary
    ```
  </div>
</div>

**Why semantic tokens:**
- Automatic theme switching (light/dark)
- Consistent color palette
- Easier maintenance
- Better accessibility

**Reference:** [Semantic Tokens](/docs/semantic-tokens)

---

### Semantic HTML

**Requirement:** 100% compliance, no typography utilities

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-4">
  <div>
    <h6 className="mb-2">âŒ Bad (Violations)</h6>
    ```tsx
    <div className="text-3xl font-bold">
      Heading
    </div>
    <div className="text-sm text-muted-foreground">
      Description
    </div>
    ```
  </div>
  <div>
    <h6 className="mb-2">âœ… Good (Correct)</h6>
    ```tsx
    <h2>
      Heading
    </h2>
    <p className="muted">
      Description
    </p>
    ```
  </div>
</div>

**Why semantic HTML:**
- Better accessibility (screen readers)
- Improved SEO
- Cleaner code
- Automatic styling via typography.css

**Reference:** [Typography](/docs/typography)

---

### Accessibility

**Requirement:** WCAG 2.1 AA compliance

**Checklist:**
- âœ… All buttons have accessible names
- âœ… All images have alt text
- âœ… All form inputs have labels
- âœ… Interactive elements keyboard accessible
- âœ… Focus indicators visible
- âœ… Color contrast â‰¥ 4.5:1 (text) and â‰¥ 3:1 (UI)
- âœ… Touch targets â‰¥ 44x44px

**Example:**

```tsx
// âŒ Bad - Icon button without label
<button onClick={onClose}>
  <X className="size-4" />
</button>

// âœ… Good - Accessible icon button
<button
  onClick={onClose}
  onKeyDown={handleKeyDown}
  aria-label="Close"
>
  <X className="size-4" />
</button>
```

**Reference:** [WCAG 2.1 Quick Reference](https://www.w3.org/WAI/WCAG21/quickref/)

---

### Internationalization

**Requirement:** 100% compliance, no hardcoded strings

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-4">
  <div>
    <h6 className="mb-2">âŒ Bad (Hardcoded)</h6>
    ```tsx
    <button>Save Changes</button>
    <input placeholder="Enter your name" />
    ```
  </div>
  <div>
    <h6 className="mb-2">âœ… Good (i18n)</h6>
    ```tsx
    // Client component
    const { dictionary } = useDictionary()

    <button>
      {dictionary?.ui?.saveChanges || 'Save Changes'}
    </button>
    <input
      placeholder={dictionary?.ui?.enterName || 'Enter your name'}
    />
    ```
  </div>
</div>

**Why i18n:**
- Full RTL/LTR support for Arabic and English
- Consistent translations across platform
- Easier to add new languages
- Professional multilingual UX

---

## Radix UI Primitives

shadcn/ui is built on Radix UI primitives for accessibility.

### Common Primitives

<div className="grid grid-cols-1 md:grid-cols-2 gap-4 my-4">
  <div className="p-4 border rounded-lg">
    <h6 className="mb-2">Dialog / Modal</h6>
    <p className="muted text-sm mb-2">@radix-ui/react-dialog</p>
    <p className="text-sm">Accessible modals, sheets, and drawers with focus management and ARIA</p>
  </div>
  <div className="p-4 border rounded-lg">
    <h6 className="mb-2">Dropdown Menu</h6>
    <p className="muted text-sm mb-2">@radix-ui/react-dropdown-menu</p>
    <p className="text-sm">Accessible dropdown menus with keyboard navigation</p>
  </div>
  <div className="p-4 border rounded-lg">
    <h6 className="mb-2">Tooltip</h6>
    <p className="muted text-sm mb-2">@radix-ui/react-tooltip</p>
    <p className="text-sm">Accessible tooltips with proper positioning and timing</p>
  </div>
  <div className="p-4 border rounded-lg">
    <h6 className="mb-2">Select</h6>
    <p className="muted text-sm mb-2">@radix-ui/react-select</p>
    <p className="text-sm">Accessible select inputs with search and keyboard support</p>
  </div>
  <div className="p-4 border rounded-lg">
    <h6 className="mb-2">Tabs</h6>
    <p className="muted text-sm mb-2">@radix-ui/react-tabs</p>
    <p className="text-sm">Accessible tab interfaces with ARIA and keyboard navigation</p>
  </div>
  <div className="p-4 border rounded-lg">
    <h6 className="mb-2">Toast</h6>
    <p className="muted text-sm mb-2">@radix-ui/react-toast</p>
    <p className="text-sm">Accessible notifications with live regions and timing</p>
  </div>
</div>

**Full documentation:** [Radix UI Primitives](https://www.radix-ui.com/primitives)

---

## Pre-commit Validation

UI quality validation runs automatically before commits via `.claude/scripts/validate-ui-quality.sh`.

**What it checks:**
- âŒ Hardcoded colors (semantic token violations)
- âŒ Typography utilities on divs (semantic HTML violations)
- âŒ Hardcoded English text (i18n violations)

**Example output:**

```bash
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” PRE-COMMIT BUILD VALIDATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Branch: feature/new-component

Step 1: TypeScript Compilation
âœ… TypeScript: 0 errors

Step 2: Prisma Client Sync
âœ… Prisma: No schema changes detected

Step 3: UI Component Quality
ğŸ¨ Checking 3 UI component file(s)...

âŒ src/components/ui/button.tsx (2 violations)
   ğŸ¨ Hardcoded colors: 2
      45: bg-white dark:bg-gray-900
      52: text-gray-600

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âŒ UI Quality: 2 violations found

ğŸ’¡ Quick Fixes:
  bg-white        â†’ bg-background
  text-gray-600   â†’ text-muted-foreground

ğŸ”§ Advanced Validation:
  Run '/ui-validate' for detailed analysis
```

**Override (not recommended):**

```bash
git commit --no-verify
```

> **Warning:** Only use `--no-verify` on feature branches. Protected branches (main/master/production) will block commits with violations.

---

## Architecture

### Component Lifecycle

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Generation                                â”‚
â”‚    /ui-add button                            â”‚
â”‚    /ui-generate "pricing card"               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2. Automatic Validation                      â”‚
â”‚    - Semantic tokens check                   â”‚
â”‚    - Semantic HTML check                     â”‚
â”‚    - Accessibility check                     â”‚
â”‚    - i18n check                              â”‚
â”‚    - TypeScript check                        â”‚
â”‚    - Testing check                           â”‚
â”‚    - Documentation check                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 3. Auto-Fix (if needed)                      â”‚
â”‚    - Replace hardcoded colors                â”‚
â”‚    - Convert divs to semantic HTML           â”‚
â”‚    - Add ARIA attributes                     â”‚
â”‚    - Add i18n support                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 4. Manual Review (if auto-fix fails)         â”‚
â”‚    - Review violation report                 â”‚
â”‚    - Apply manual fixes                      â”‚
â”‚    - Re-run validation                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 5. Integration                               â”‚
â”‚    - Import in parent component              â”‚
â”‚    - Test in dev environment                 â”‚
â”‚    - Commit with pre-commit hook validation  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 6. Deployment                                â”‚
â”‚    - CI/CD validation                        â”‚
â”‚    - Production build                        â”‚
â”‚    - Monitoring                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### shadcn/ui Philosophy

The UI Factory follows shadcn/ui's **copy-paste architecture**:
- Components are copied to your codebase (not installed as dependencies)
- Full control over source code and styling
- No hidden dependencies or version lock-in
- Built on Radix UI primitives for accessibility
- Styled with Tailwind CSS and semantic tokens

**Why copy-paste?**
- âœ… Full ownership of code
- âœ… Easy customization
- âœ… No breaking changes from updates
- âœ… Transparent implementation
- âœ… Project-specific modifications

---

## Troubleshooting

### Issue: "components.json not found"

**Solution:**

```bash
npx shadcn@latest init
```

Follow the prompts to configure shadcn/ui.

---

### Issue: "Registry not responding"

**Possible causes:**
1. No internet connection
2. GitHub API rate limit
3. Registry URL incorrect

**Solutions:**

```bash
# Check internet
ping github.com

# Set GITHUB_TOKEN for higher rate limit
export GITHUB_TOKEN=your_token

# Verify components.json registry URL
cat components.json | grep registries
```

---

### Issue: "Component already exists"

**Solution:**

```bash
# Option 1: Overwrite existing
/ui-add button --overwrite

# Option 2: Rename existing
mv src/components/ui/button.tsx src/components/ui/button-old.tsx
/ui-add button
```

---

### Issue: "Validation fails after adding from registry"

**Why:** Some registry components may have hardcoded colors or typography utilities.

**Solution:**

```bash
# Run validation to see violations
/ui-validate src/components/ui/button.tsx

# Apply auto-fixes
/ui-validate src/components/ui/button.tsx --fix

# Manual fixes if needed, then re-validate
```

---

### Issue: "Build hangs after adding components"

**Root cause:** TypeScript errors (silent failure)

**Solution:**

```bash
# CRITICAL: Always check TypeScript before building
pnpm tsc --noEmit

# If errors found, fix them or use auto-fix
/fix-build

# Then try build again
pnpm build
```

---

## Examples

### Example 1: Add Button Component

```bash
# Add button from registry
/ui-add button

# Verify installation
ls src/components/ui/button.tsx

# Validate quality
/ui-validate src/components/ui/button.tsx

# Use in component
import { Button } from "@/components/ui/button"

<Button variant="default">Click me</Button>
```

---

### Example 2: Generate Pricing Card

```bash
# Generate with AI
/ui-generate "pricing card with three tiers (Starter, Pro, Enterprise), monthly/yearly toggle, feature comparison table, and CTA buttons"

# Output location
src/components/platform/pricing-card/
â”œâ”€â”€ pricing-card.tsx
â”œâ”€â”€ pricing-card.test.tsx
â”œâ”€â”€ types.ts
â””â”€â”€ README.md

# Import and use
import { PricingCard } from "@/components/platform/pricing-card"

<PricingCard
  tiers={[...]}
  billingPeriod="monthly"
  onSelectPlan={handleSelectPlan}
/>
```

---

### Example 3: Validate Existing Components

```bash
# Validate all UI components
/ui-validate src/components/ui/**/*.tsx

# Example output:
Validated 15 components

âœ… Passed: 12 (80%)
âŒ Failed: 3 (20%)

Critical Issues: 2
High Issues: 5
Medium Issues: 3
Low Issues: 1

Overall Score: 85/100

# Fix violations
/ui-validate src/components/ui/dialog.tsx --fix
```

---

## Resources

### Documentation

- [shadcn/ui Docs](https://ui.shadcn.com/docs)
- [Radix UI Primitives](https://www.radix-ui.com/primitives)
- [Tailwind CSS](https://tailwindcss.com/docs)
- [WCAG 2.1 Guidelines](https://www.w3.org/WAI/WCAG21/quickref/)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/)

### Internal Documentation

- [Semantic Tokens](/docs/semantic-tokens) - Semantic token system
- [Typography](/docs/typography) - Typography guidelines
- [Architecture](/docs/architecture) - System architecture
- [Build System](/docs/build) - Build and deployment

### Agent & Skills

- `.claude/agents/ui-factory.md` - UI Factory agent
- `.claude/skills/component-generator.md` - Component generation
- `.claude/skills/ui-validator.md` - Validation system

---

## Success Metrics

**Current Status:**
- âœ… 47+ UI components validated
- âœ… 0 violations detected
- âœ… 100% semantic token adoption
- âœ… 100% semantic HTML compliance
- âœ… Pre-commit hooks active
- âœ… 95%+ test coverage maintained

**Quality Impact:**
- ğŸš€ 10x faster component development
- ğŸ¯ Zero manual quality checks needed
- ğŸ”’ 100% WCAG 2.1 AA compliance
- ğŸŒ Full RTL/LTR internationalization
- âš¡ Automatic theme switching
- ğŸ“š Complete documentation coverage

---

## Next Steps

1. **Add Components**: Try `/ui-add button card input` to add from registry
2. **Generate Custom**: Use `/ui-generate` for project-specific components
3. **Validate Quality**: Run `/ui-validate` on existing components
4. **Copy Showcase**: Execute `/ui-copy-showcase` for 20+ example components
5. **Read Full Guide**: Review [UI_FACTORY.md](https://github.com/hogwarts/UI_FACTORY.md) for complete documentation

---

> **Remember:** Quality is mandatory. Components with violations cannot be deployed. Use `/ui-validate` to ensure all components pass 7 quality gates before committing.
